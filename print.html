<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Epinio - the application development engine for Kubernetes</title>
        <meta name="robots" content="noindex" />
        <!-- Custom HTML head -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new
Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('set','anonymizeIp',!0);
ga('create', 'UA-56382716-12', 'auto');
ga('send', 'pageview');
</script>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="Documentation for users and developers of Epinio">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="introduction.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="tutorials/quickstart.html"><strong aria-hidden="true">2.</strong> Quick Start</a></li><li class="chapter-item expanded "><a href="installation/installation.html"><strong aria-hidden="true">3.</strong> Installation</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="installation/installation.html"><strong aria-hidden="true">3.1.</strong> Install Epinio</a></li><li class="chapter-item "><a href="installation/install_epinio_cli.html"><strong aria-hidden="true">3.2.</strong> Install Epinio cli</a></li><li class="chapter-item "><a href="installation/install_epinio_customDNS.html"><strong aria-hidden="true">3.3.</strong> Install Epinio with custom DNS</a></li><li class="chapter-item "><a href="installation/install_epinio_magicDNS.html"><strong aria-hidden="true">3.4.</strong> Install Epinio with &quot;magic&quot; DNS</a></li><li class="chapter-item "><a href="installation/uninstall_epinio.html"><strong aria-hidden="true">3.5.</strong> Uninstall Epinio</a></li></ol></li><li class="chapter-item expanded "><a href="explanations/explanations.html"><strong aria-hidden="true">4.</strong> Explanations</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="explanations/advanced.html"><strong aria-hidden="true">4.1.</strong> Advanced topics</a></li><li class="chapter-item "><a href="explanations/detailed-push-process.html"><strong aria-hidden="true">4.2.</strong> Detailed Push Process</a></li><li class="chapter-item "><a href="explanations/principles.html"><strong aria-hidden="true">4.3.</strong> Principles</a></li><li class="chapter-item "><a href="explanations/security.html"><strong aria-hidden="true">4.4.</strong> Security</a></li></ol></li><li class="chapter-item expanded "><a href="howtos/howtos.html"><strong aria-hidden="true">5.</strong> HowTos</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="howtos/certificate_issuers.html"><strong aria-hidden="true">5.1.</strong> Certificate Issuers</a></li><li class="chapter-item "><a href="howtos/provision_external_ip_for_local_kubernetes.html"><strong aria-hidden="true">5.2.</strong> Provision external IP address for local Kubernetes</a></li><li class="chapter-item "><a href="howtos/gitjob_push.html"><strong aria-hidden="true">5.3.</strong> Push with gitjob</a></li><li class="chapter-item "><a href="howtos/setup_external_s3.html"><strong aria-hidden="true">5.4.</strong> Setup external S3 storage</a></li><li class="chapter-item "><a href="howtos/setup_external_registry.html"><strong aria-hidden="true">5.5.</strong> Setup external container registry</a></li><li class="chapter-item "><a href="howtos/port_forwarding.html"><strong aria-hidden="true">5.6.</strong> Port Forwarding</a></li><li class="chapter-item "><a href="howtos/custom_routes.html"><strong aria-hidden="true">5.7.</strong> Custom Routes</a></li><li class="chapter-item "><a href="howtos/install_epinio_on_rancher.html"><strong aria-hidden="true">5.8.</strong> Install Epinio on Rancher</a></li><li class="chapter-item "><a href="howtos/install_epinio_on_rke.html"><strong aria-hidden="true">5.9.</strong> Install Epinio on RKE2 (Rancher)</a></li><li class="chapter-item "><a href="howtos/install_epinio_on_k3s.html"><strong aria-hidden="true">5.10.</strong> Install Epinio on K3s (local)</a></li><li class="chapter-item "><a href="howtos/install_epinio_on_rancher_desktop.html"><strong aria-hidden="true">5.11.</strong> Install Epinio on Rancher Desktop (local)</a></li><li class="chapter-item "><a href="howtos/install_epinio_on_k3d.html"><strong aria-hidden="true">5.12.</strong> Install Epinio on K3d (local)</a></li><li class="chapter-item "><a href="howtos/install_epinio_on_minikube.html"><strong aria-hidden="true">5.13.</strong> Install Epinio on Minikube (local)</a></li><li class="chapter-item "><a href="howtos/install_epinio_on_public_cloud.html"><strong aria-hidden="true">5.14.</strong> Install Epinio on Public Clouds</a></li><li class="chapter-item "><a href="howtos/install_wordpress_application.html"><strong aria-hidden="true">5.15.</strong> Install Wordpress on Epinio</a></li></ol></li><li class="chapter-item expanded "><a href="references/references.html"><strong aria-hidden="true">6.</strong> Reference documentation</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="references/system_requirements.html"><strong aria-hidden="true">6.1.</strong> System Requirements</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="references/windows.html"><strong aria-hidden="true">6.1.1.</strong> Windows</a></li></ol></li><li class="chapter-item "><a href="references/index.html"><strong aria-hidden="true">6.2.</strong> Command requirements</a></li><li class="chapter-item "><a href="references/commands.html"><strong aria-hidden="true">6.3.</strong> Command reference</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="references/cli/epinio.html"><strong aria-hidden="true">6.3.1.</strong> epinio</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="references/cli/epinio_app.html"><strong aria-hidden="true">6.3.1.1.</strong> epinio_app</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="references/cli/epinio_app_create.html"><strong aria-hidden="true">6.3.1.1.1.</strong> epinio_app_create</a></li><li class="chapter-item "><a href="references/cli/epinio_app_delete.html"><strong aria-hidden="true">6.3.1.1.2.</strong> epinio_app_delete</a></li><li class="chapter-item "><a href="references/cli/epinio_app_env.html"><strong aria-hidden="true">6.3.1.1.3.</strong> epinio_app_env</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="references/cli/epinio_app_env_list.html"><strong aria-hidden="true">6.3.1.1.3.1.</strong> epinio_app_env_list</a></li><li class="chapter-item "><a href="references/cli/epinio_app_env_set.html"><strong aria-hidden="true">6.3.1.1.3.2.</strong> epinio_app_env_set</a></li><li class="chapter-item "><a href="references/cli/epinio_app_env_show.html"><strong aria-hidden="true">6.3.1.1.3.3.</strong> epinio_app_env_show</a></li><li class="chapter-item "><a href="references/cli/epinio_app_env_unset.html"><strong aria-hidden="true">6.3.1.1.3.4.</strong> epinio_app_env_unset</a></li></ol></li><li class="chapter-item "><a href="references/cli/epinio_app_list.html"><strong aria-hidden="true">6.3.1.1.4.</strong> epinio_app_list</a></li><li class="chapter-item "><a href="references/cli/epinio_app_logs.html"><strong aria-hidden="true">6.3.1.1.5.</strong> epinio_app_logs</a></li><li class="chapter-item "><a href="references/cli/epinio_app_manifest.html"><strong aria-hidden="true">6.3.1.1.6.</strong> epinio_app_manifest</a></li><li class="chapter-item "><a href="references/cli/epinio_app_show.html"><strong aria-hidden="true">6.3.1.1.7.</strong> epinio_app_show</a></li><li class="chapter-item "><a href="references/cli/epinio_app_update.html"><strong aria-hidden="true">6.3.1.1.8.</strong> epinio_app_update</a></li></ol></li><li class="chapter-item "><a href="references/cli/epinio_settings.html"><strong aria-hidden="true">6.3.1.2.</strong> epinio_settings</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="references/cli/epinio_settings_colors.html"><strong aria-hidden="true">6.3.1.2.1.</strong> epinio_settings_colors</a></li><li class="chapter-item "><a href="references/cli/epinio_settings_show.html"><strong aria-hidden="true">6.3.1.2.2.</strong> epinio_settings_show</a></li><li class="chapter-item "><a href="references/cli/epinio_settings_update.html"><strong aria-hidden="true">6.3.1.2.3.</strong> epinio_settings_update</a></li></ol></li><li class="chapter-item "><a href="references/cli/epinio_info.html"><strong aria-hidden="true">6.3.1.3.</strong> epinio_info</a></li><li class="chapter-item "><a href="references/cli/epinio_namespace.html"><strong aria-hidden="true">6.3.1.4.</strong> epinio_namespace</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="references/cli/epinio_namespace_create.html"><strong aria-hidden="true">6.3.1.4.1.</strong> epinio_namespace_create</a></li><li class="chapter-item "><a href="references/cli/epinio_namespace_delete.html"><strong aria-hidden="true">6.3.1.4.2.</strong> epinio_namespace_delete</a></li><li class="chapter-item "><a href="references/cli/epinio_namespace_list.html"><strong aria-hidden="true">6.3.1.4.3.</strong> epinio_namespace_list</a></li><li class="chapter-item "><a href="references/cli/epinio_namespace_show.html"><strong aria-hidden="true">6.3.1.4.4.</strong> epinio_namespace_show</a></li></ol></li><li class="chapter-item "><a href="references/cli/epinio_push.html"><strong aria-hidden="true">6.3.1.5.</strong> epinio_push</a></li><li class="chapter-item "><a href="references/cli/epinio_server.html"><strong aria-hidden="true">6.3.1.6.</strong> epinio_server</a></li><li class="chapter-item "><a href="references/cli/epinio_configuration.html"><strong aria-hidden="true">6.3.1.7.</strong> epinio_configuration</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="references/cli/epinio_configuration_bind.html"><strong aria-hidden="true">6.3.1.7.1.</strong> epinio_configuration_bind</a></li><li class="chapter-item "><a href="references/cli/epinio_configuration_create.html"><strong aria-hidden="true">6.3.1.7.2.</strong> epinio_configuration_create</a></li><li class="chapter-item "><a href="references/cli/epinio_configuration_delete.html"><strong aria-hidden="true">6.3.1.7.3.</strong> epinio_configuration_delete</a></li><li class="chapter-item "><a href="references/cli/epinio_configuration_list.html"><strong aria-hidden="true">6.3.1.7.4.</strong> epinio_configuration_list</a></li><li class="chapter-item "><a href="references/cli/epinio_configuration_show.html"><strong aria-hidden="true">6.3.1.7.5.</strong> epinio_configuration_show</a></li><li class="chapter-item "><a href="references/cli/epinio_configuration_unbind.html"><strong aria-hidden="true">6.3.1.7.6.</strong> epinio_configuration_unbind</a></li></ol></li><li class="chapter-item "><a href="references/cli/epinio_target.html"><strong aria-hidden="true">6.3.1.8.</strong> epinio_target</a></li><li class="chapter-item "><a href="references/cli/epinio_version.html"><strong aria-hidden="true">6.3.1.9.</strong> epinio_version</a></li></ol></li></ol></li><li class="chapter-item "><a href="references/settings.html"><strong aria-hidden="true">6.4.</strong> CLI Settings</a></li><li class="chapter-item "><a href="references/supported-apps.html"><strong aria-hidden="true">6.5.</strong> Supported Applications</a></li><li class="chapter-item "><a href="references/manifests.html"><strong aria-hidden="true">6.6.</strong> Application Manifests</a></li><li class="chapter-item "><a href="references/configurations.html"><strong aria-hidden="true">6.7.</strong> Configurations</a></li><li class="chapter-item "><a href="references/api.html"><strong aria-hidden="true">6.8.</strong> API</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Epinio - the application development engine for Kubernetes</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/epinio/docs" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="introduction"><a class="header" href="#introduction">Introduction</a></h1>
<p>From App to URL in one step.</p>
<h2 id="what-problem-does-epinio-solve"><a class="header" href="#what-problem-does-epinio-solve">What problem does Epinio solve</a></h2>
<p>Epinio makes it easy for developers to deploy their applications to Kubernetes. Easy means:</p>
<ul>
<li>No previous experience with Kubernetes is required</li>
<li>No steep learning curve</li>
<li>Quick local setup with zero configuration</li>
<li>Deploying to production similar to development</li>
</ul>
<p><a href="https://kubernetes.io/">Kubernetes</a> is becoming the de-facto standard for container orchestration.
Developers may want to use Kubernetes for all the benefits it provides or may
have to do so because that's what their Ops team has chosen. Whatever the case,
using Kubernetes is not simple. It has a steep learning curve and doing it right
is a full time job. Developers should spend their time working on their applications,
not doing operations.</p>
<p>Epinio is adding the needed abstractions and intelligence to allow Developers
to use Kubernetes as a <a href="https://en.wikipedia.org/wiki/Platform_as_a_service">PaaS (Platform as a Service)</a>.</p>
<h2 id="features"><a class="header" href="#features">Features</a></h2>
<ul>
<li><strong>Security</strong>
<ul>
<li>mTLS: Epinio uses <a href="https://linkerd.io/"><code>linkerd</code></a> to secure all communication between Epinio components inside the Kubernetes cluster</li>
<li>Basic Authentication to access the API.</li>
</ul>
</li>
<li><strong>Epinio Clients</strong>
<ul>
<li>Web UI</li>
<li>Epinio CLI</li>
</ul>
</li>
<li><strong>Apps</strong>
<ul>
<li>CRUD operations of your app. (An app can be a tarball or in a github repo)</li>
<li><a href="https://buildpacks.io/">Cloud Native Buildpacks</a> provide the runtime environment for your apps</li>
</ul>
</li>
<li><strong>Configurations</strong>
<ul>
<li>CRUD operations of your configuration. A configuration can be connection details for a database, SaaS etc.</li>
<li>Bind configurations to apps.</li>
</ul>
</li>
</ul>
<h2 id="next-steps"><a class="header" href="#next-steps">Next steps</a></h2>
<p>If you want to try Epinio, we suggest you to have a look at
our <a href="tutorials/quickstart.html">quickstart</a> tutorial to get started with Epinio.</p>
<p>For a more detailed information, you can check the <a href="/explanations/explanations.html">Explanations</a> section,
where different topics such as &quot;Principles&quot; or &quot;Security&quot; are explained.</p>
<p>Finally, if you want to test Epinio directly, our <a href="/howtos/howtos.html"><code>HowTos</code></a> section
will show concrete examples on how to use Epinio for different use-cases.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="quickstart"><a class="header" href="#quickstart">QuickStart</a></h1>
<p>If you have not already installed <code>epinio</code> follow these links</p>
<ul>
<li><a href="tutorials/../installation/installation.html">Installation Section</a></li>
</ul>
<p>In this tutorial, you will learn how to create a namespace and how to push, list and delete an application in it.</p>
<h2 id="push-an-application"><a class="header" href="#push-an-application">Push an application</a></h2>
<h3 id="clone-the-sample-app"><a class="header" href="#clone-the-sample-app">Clone the sample app</a></h3>
<p>If you just want an application that works use the one inside the
<a href="https://github.com/epinio/epinio/tree/main/assets/sample-app">sample-app directory</a>.</p>
<p>You can copy it to your system with
the following commands:</p>
<pre><code class="language-bash">git clone https://github.com/epinio/epinio.git
cd epinio/assets/
</code></pre>
<h3 id="push-an-app"><a class="header" href="#push-an-app">Push an app</a></h3>
<p>There are two ways to push an application:</p>
<ol>
<li>You can provide an <a href="tutorials/../references/manifests.html">Application Manifest</a> which contains the required configuration for the applications.</li>
</ol>
<pre><code class="language-bash">epinio push manifest.yaml
</code></pre>
<ol start="2">
<li>You can provide the configuration as parameters in which case the parameter <code>--name</code> is mandatory.
Because of the default route the name has to be unique across all namespaces.</li>
</ol>
<pre><code class="language-bash">epinio push --name sample --path sample-app
</code></pre>
<hr />
<h6 id="note-that-the---path-parameter-is-optional-if-not-specified-the-current-working-directory-will-be-used-always-ensure-that-the-chosen-directory-contains-a-supported-application"><a class="header" href="#note-that-the---path-parameter-is-optional-if-not-specified-the-current-working-directory-will-be-used-always-ensure-that-the-chosen-directory-contains-a-supported-application">Note that the <code>--path</code> parameter is optional. If not specified the current working directory will be used. Always ensure that the chosen directory contains a supported application.</a></h6>
<hr />
<p>If you want to know what applications are supported in Epinio, please read the
<a href="tutorials/../references/supported-apps.html">notes about supported applications</a>.</p>
<p>We also provide information about the more advanced <a href="tutorials/../explanations/advanced.html#git-pushing">git model</a>.</p>
<hr />
<h6 id="note-if-you-want-to-know-the-details-of-the-epinio-push"><a class="header" href="#note-if-you-want-to-know-the-details-of-the-epinio-push">Note: If you want to know the details of the <code>epinio push</code></a></h6>
<p>process, please read the <a href="tutorials/../explanations/detailed-push-process.html">detailed push docs</a></p>
<hr />
<h4 id="check-that-your-application-is-working"><a class="header" href="#check-that-your-application-is-working">Check that your application is working</a></h4>
<p>After the application has been pushed, a unique URL is printed which you can use to access your application. If you don't have this URL available anymore you can find it again by running:</p>
<pre><code class="language-bash">epinio app show sample
</code></pre>
<p>(&quot;Routes&quot; is the part your are looking for)</p>
<p>Go ahead and open the application route in your browser!</p>
<h3 id="list-all-commands"><a class="header" href="#list-all-commands">List all commands</a></h3>
<p>To see all the applications you have deployed use the following command:</p>
<pre><code class="language-bash">epinio apps list
</code></pre>
<h3 id="delete-an-application"><a class="header" href="#delete-an-application">Delete an application</a></h3>
<p>To delete the application you just deployed run the following command:</p>
<pre><code class="language-bash">epinio delete sample
</code></pre>
<h3 id="create-a-separate-namespace"><a class="header" href="#create-a-separate-namespace">Create a separate namespace</a></h3>
<p>If you want to keep your various application separated, you can use the concept of namespaces. Create a new namespace with this command:</p>
<pre><code class="language-bash">epinio namespace create newspace
</code></pre>
<p>To start deploying application to this new namespace you have to &quot;target&quot; it:</p>
<pre><code class="language-bash">epinio target newspace
</code></pre>
<p>After this and until you target another namespace, whenever you run <code>epinio push</code> you will be deploying to this new namespace.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="installation-of-epinio"><a class="header" href="#installation-of-epinio">Installation of Epinio</a></h1>
<h2 id="introduction-1"><a class="header" href="#introduction-1">Introduction</a></h2>
<p>Epinio is installed from a single Helm chart and, by default, it also installs <a href="installation/installation.html#kubed"><code>Kubed</code></a>, <a href="installation/installation.html#s3-storage"><code>MinIO</code></a> 
and a <a href="installation/installation.html#container-registry">container registry</a> in your Kubernetes cluster.</p>
<p>You can disable the installation of <code>Kubed</code>, <code>MinIO</code> and the <code>container registry</code> by changing the settings as described in the respective sections.</p>
<h2 id="prerequisites"><a class="header" href="#prerequisites">Prerequisites</a></h2>
<p>See <a href="installation//references/system_requirements.html">system requirements</a> for a detailed list of external components your
Kubernetes cluster needs to have before you install Epinio.</p>
<blockquote>
<p><strong>IMPORTANT:</strong> Some of the namespaces of the components are hardcoded in the Epinio
code and thus are important to be the same as described here. In the future this
may be configurable on the Epinio Helm chart.</p>
</blockquote>
<h2 id="installation"><a class="header" href="#installation">Installation</a></h2>
<h3 id="ingress-controller"><a class="header" href="#ingress-controller">Ingress Controller</a></h3>
<p>Epinio creates Ingress resources for the API server, the applications and depending
on your setup, the internal container registry. Those resources won't work unless
an Ingress controller is running on your cluster.</p>
<p>If you don't have an Ingress controller already running, you can install Traefik with:</p>
<pre><code>$ kubectl create namespace traefik
$ export LOAD_BALANCER_IP=$(LOAD_BALANCER_IP:-) # Set this to the IP of your load balancer if you know that
$ helm install traefik --namespace traefik &quot;https://helm.traefik.io/traefik/traefik-10.3.4.tgz&quot; \
		--set globalArguments='' \
		--set-string ports.web.redirectTo=websecure \
		--set-string ingressClass.enabled=true \
		--set-string ingressClass.isDefaultClass=true \
		--set-string service.spec.loadBalancerIP=$LOAD_BALANCER_IP
</code></pre>
<h3 id="cert-manager"><a class="header" href="#cert-manager">Cert Manager</a></h3>
<p>Epinio needs <a href="https://cert-manager.io/">cert-manager</a> in order to create TLS
certificates for the various Ingresses (see &quot;Ingress controller&quot; above).</p>
<p>If cert-manager is not already installed on the cluster, it can be installed like this:</p>
<pre><code>$ kubectl create namespace cert-manager
$ helm repo add jetstack https://charts.jetstack.io
$ helm repo update
$ helm install cert-manager --namespace cert-manager jetstack/cert-manager \
		--set installCRDs=true \
		--set extraArgs[0]=--enable-certificate-owner-ref=true
</code></pre>
<blockquote>
<p><strong>WARNING</strong>: if cert-manager isn't installed in the namespace <code>cert-manager</code>,
you have to set <code>.Values.certManagerNamespace</code> accordingly, otherwise Epinio installation will fail.</p>
</blockquote>
<h3 id="kubed"><a class="header" href="#kubed">Kubed</a></h3>
<p>Kubed is installed as a subchart when <code>.Values.kubed.enabled</code> is true (default).
If you already have kubed running, you can skip the installation by setting
the helm value &quot;kubed.enabled&quot; to &quot;false&quot;.</p>
<h3 id="s3-storage"><a class="header" href="#s3-storage">S3 storage</a></h3>
<p>Epinio is using an S3 compatible storage to store the application source code.
This chart will install <a href="https://min.io/">Minio</a> when <code>.Values.minio.enabled</code> is
true (default). Any S3 compatible solution can be used instead by setting this
value to <code>false</code> and using <a href="https://github.com/epinio/helm-charts/blob/main/chart/epinio/values.yaml#L44">the values under <code>s3</code></a>
to point to the desired S3 server. </p>
<h3 id="container-registry"><a class="header" href="#container-registry">Container Registry</a></h3>
<p>When Epinio builds a container image for an application from source, it needs
to store that image to a container registry. Epinio installs a container registry
on the cluster when <code>.Values.containerregistry.enabled</code> is <code>true</code> (default).</p>
<p>Any container registry that supports basic auth authentication can be used (e.g. gcr, dockerhub etc)
instead by setting this value to <code>false</code> and using
<a href="https://github.com/epinio/helm-charts/blob/main/chart/epinio/values.yaml#L104-L107">the values under <code>registry</code></a>
to point to the desired container registry.</p>
<h3 id="install-epinio"><a class="header" href="#install-epinio">Install Epinio</a></h3>
<p>If the above dependencies are available or going to be installed by this chart,
Epinio can be installed with the following:</p>
<pre><code>$ helm install epinio -n epinio --create-namespace epinio/epinio --values epinio-values.yaml --set global.domain=myepiniodomain.org
</code></pre>
<p>The only value that is mandatory is the <code>.Values.global.domain</code> which
should be a wildcard domain, pointing to the IP address of your running
Ingress controller.</p>
<blockquote>
<p><em>NOTE</em>: If you're deploying Epinio in a &quot;localhost&quot; environment, you can use a &quot;<a href="installation/install_epinio_magicDNS.html">magic domain name</a>&quot;. </p>
</blockquote>
<h2 id="installation-on-specific-kubernetes-offerings"><a class="header" href="#installation-on-specific-kubernetes-offerings">Installation on Specific Kubernetes Offerings</a></h2>
<p>Installing Epinio is a standard process as explained above, however you might need to configure it for a specific Kubernetes cluster.</p>
<p>To help you, see the following HowTos for various well-known Kubernetes clusters:</p>
<ul>
<li><a href="installation//howtos/install_epinio_on_rancher.html">Install on Rancher</a> - Install Epinio on Rancher</li>
<li><a href="installation//howtos/install_epinio_on_public_cloud.html">Install on Public Cloud</a> - Install Epinio on Public Cloud cluster</li>
<li><a href="installation//howtos/install_epinio_on_rke.html">Install on RKE2</a> - Install Epinio on Rancher RKE2 cluster</li>
<li><a href="installation//howtos/install_epinio_on_k3d.html">Install on K3d</a> - Install Epinio on K3d cluster</li>
<li><a href="installation//howtos/install_epinio_on_k3s.html">Install on K3s</a> - Install Epinio on K3s cluster</li>
<li><a href="installation//howtos/install_epinio_on_rancher_desktop.html">Install on Rancher Desktop</a> - Install Epinio on Rancher Desktop</li>
<li><a href="installation//howtos/install_epinio_on_minikube.html">Install on Minikube</a> - Install Epinio on Minikube cluster</li>
</ul>
<blockquote>
<p><em>NOTE</em>: The Public Cloud howto lists the three major Cloud providers but Epinio can run on any Kubernetes cluster.</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="installation-of-epinio-1"><a class="header" href="#installation-of-epinio-1">Installation of Epinio</a></h1>
<h2 id="introduction-2"><a class="header" href="#introduction-2">Introduction</a></h2>
<p>Epinio is installed from a single Helm chart and, by default, it also installs <a href="installation/installation.html#kubed"><code>Kubed</code></a>, <a href="installation/installation.html#s3-storage"><code>MinIO</code></a> 
and a <a href="installation/installation.html#container-registry">container registry</a> in your Kubernetes cluster.</p>
<p>You can disable the installation of <code>Kubed</code>, <code>MinIO</code> and the <code>container registry</code> by changing the settings as described in the respective sections.</p>
<h2 id="prerequisites-1"><a class="header" href="#prerequisites-1">Prerequisites</a></h2>
<p>See <a href="installation//references/system_requirements.html">system requirements</a> for a detailed list of external components your
Kubernetes cluster needs to have before you install Epinio.</p>
<blockquote>
<p><strong>IMPORTANT:</strong> Some of the namespaces of the components are hardcoded in the Epinio
code and thus are important to be the same as described here. In the future this
may be configurable on the Epinio Helm chart.</p>
</blockquote>
<h2 id="installation-1"><a class="header" href="#installation-1">Installation</a></h2>
<h3 id="ingress-controller-1"><a class="header" href="#ingress-controller-1">Ingress Controller</a></h3>
<p>Epinio creates Ingress resources for the API server, the applications and depending
on your setup, the internal container registry. Those resources won't work unless
an Ingress controller is running on your cluster.</p>
<p>If you don't have an Ingress controller already running, you can install Traefik with:</p>
<pre><code>$ kubectl create namespace traefik
$ export LOAD_BALANCER_IP=$(LOAD_BALANCER_IP:-) # Set this to the IP of your load balancer if you know that
$ helm install traefik --namespace traefik &quot;https://helm.traefik.io/traefik/traefik-10.3.4.tgz&quot; \
		--set globalArguments='' \
		--set-string ports.web.redirectTo=websecure \
		--set-string ingressClass.enabled=true \
		--set-string ingressClass.isDefaultClass=true \
		--set-string service.spec.loadBalancerIP=$LOAD_BALANCER_IP
</code></pre>
<h3 id="cert-manager-1"><a class="header" href="#cert-manager-1">Cert Manager</a></h3>
<p>Epinio needs <a href="https://cert-manager.io/">cert-manager</a> in order to create TLS
certificates for the various Ingresses (see &quot;Ingress controller&quot; above).</p>
<p>If cert-manager is not already installed on the cluster, it can be installed like this:</p>
<pre><code>$ kubectl create namespace cert-manager
$ helm repo add jetstack https://charts.jetstack.io
$ helm repo update
$ helm install cert-manager --namespace cert-manager jetstack/cert-manager \
		--set installCRDs=true \
		--set extraArgs[0]=--enable-certificate-owner-ref=true
</code></pre>
<blockquote>
<p><strong>WARNING</strong>: if cert-manager isn't installed in the namespace <code>cert-manager</code>,
you have to set <code>.Values.certManagerNamespace</code> accordingly, otherwise Epinio installation will fail.</p>
</blockquote>
<h3 id="kubed-1"><a class="header" href="#kubed-1">Kubed</a></h3>
<p>Kubed is installed as a subchart when <code>.Values.kubed.enabled</code> is true (default).
If you already have kubed running, you can skip the installation by setting
the helm value &quot;kubed.enabled&quot; to &quot;false&quot;.</p>
<h3 id="s3-storage-1"><a class="header" href="#s3-storage-1">S3 storage</a></h3>
<p>Epinio is using an S3 compatible storage to store the application source code.
This chart will install <a href="https://min.io/">Minio</a> when <code>.Values.minio.enabled</code> is
true (default). Any S3 compatible solution can be used instead by setting this
value to <code>false</code> and using <a href="https://github.com/epinio/helm-charts/blob/main/chart/epinio/values.yaml#L44">the values under <code>s3</code></a>
to point to the desired S3 server. </p>
<h3 id="container-registry-1"><a class="header" href="#container-registry-1">Container Registry</a></h3>
<p>When Epinio builds a container image for an application from source, it needs
to store that image to a container registry. Epinio installs a container registry
on the cluster when <code>.Values.containerregistry.enabled</code> is <code>true</code> (default).</p>
<p>Any container registry that supports basic auth authentication can be used (e.g. gcr, dockerhub etc)
instead by setting this value to <code>false</code> and using
<a href="https://github.com/epinio/helm-charts/blob/main/chart/epinio/values.yaml#L104-L107">the values under <code>registry</code></a>
to point to the desired container registry.</p>
<h3 id="install-epinio-1"><a class="header" href="#install-epinio-1">Install Epinio</a></h3>
<p>If the above dependencies are available or going to be installed by this chart,
Epinio can be installed with the following:</p>
<pre><code>$ helm install epinio -n epinio --create-namespace epinio/epinio --values epinio-values.yaml --set global.domain=myepiniodomain.org
</code></pre>
<p>The only value that is mandatory is the <code>.Values.global.domain</code> which
should be a wildcard domain, pointing to the IP address of your running
Ingress controller.</p>
<blockquote>
<p><em>NOTE</em>: If you're deploying Epinio in a &quot;localhost&quot; environment, you can use a &quot;<a href="installation/install_epinio_magicDNS.html">magic domain name</a>&quot;. </p>
</blockquote>
<h2 id="installation-on-specific-kubernetes-offerings-1"><a class="header" href="#installation-on-specific-kubernetes-offerings-1">Installation on Specific Kubernetes Offerings</a></h2>
<p>Installing Epinio is a standard process as explained above, however you might need to configure it for a specific Kubernetes cluster.</p>
<p>To help you, see the following HowTos for various well-known Kubernetes clusters:</p>
<ul>
<li><a href="installation//howtos/install_epinio_on_rancher.html">Install on Rancher</a> - Install Epinio on Rancher</li>
<li><a href="installation//howtos/install_epinio_on_public_cloud.html">Install on Public Cloud</a> - Install Epinio on Public Cloud cluster</li>
<li><a href="installation//howtos/install_epinio_on_rke.html">Install on RKE2</a> - Install Epinio on Rancher RKE2 cluster</li>
<li><a href="installation//howtos/install_epinio_on_k3d.html">Install on K3d</a> - Install Epinio on K3d cluster</li>
<li><a href="installation//howtos/install_epinio_on_k3s.html">Install on K3s</a> - Install Epinio on K3s cluster</li>
<li><a href="installation//howtos/install_epinio_on_rancher_desktop.html">Install on Rancher Desktop</a> - Install Epinio on Rancher Desktop</li>
<li><a href="installation//howtos/install_epinio_on_minikube.html">Install on Minikube</a> - Install Epinio on Minikube cluster</li>
</ul>
<blockquote>
<p><em>NOTE</em>: The Public Cloud howto lists the three major Cloud providers but Epinio can run on any Kubernetes cluster.</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="installation-of-the-epinio-cli"><a class="header" href="#installation-of-the-epinio-cli">Installation of the Epinio CLI</a></h1>
<h2 id="before-you-begin"><a class="header" href="#before-you-begin">Before you begin</a></h2>
<p>If not done already, refer to <a href="installation//references/system_requirements.html">System Requirements</a>.</p>
<h2 id="install-dependencies"><a class="header" href="#install-dependencies">Install Dependencies</a></h2>
<ul>
<li><code>kubectl</code>: Follow instructions <a href="https://kubernetes.io/docs/tasks/tools/#kubectl">here</a></li>
<li><code>helm</code>: Follow instructions <a href="https://helm.sh/docs/intro/install/">here</a></li>
</ul>
<h2 id="install-epinio-cli"><a class="header" href="#install-epinio-cli">Install Epinio CLI</a></h2>
<h3 id="download-the-binary"><a class="header" href="#download-the-binary">Download the Binary</a></h3>
<p>Find the latest version at <a href="https://github.com/epinio/epinio/releases">Releases</a>.
Run one of the commands below, and replace &lt;epinio-version&gt; with the version of your choice, e.g. &quot;v0.1.0&quot;.</p>
<h5 id="linux"><a class="header" href="#linux">Linux</a></h5>
<pre><code class="language-bash">curl -o epinio -L https://github.com/epinio/epinio/releases/download/&lt;epinio-version&gt;/epinio-linux-x86_64
</code></pre>
<h5 id="macos"><a class="header" href="#macos">MacOS</a></h5>
<pre><code class="language-bash">curl -o epinio -L https://github.com/epinio/epinio/releases/download/&lt;epinio-version&gt;/epinio-darwin-x86_64
</code></pre>
<h5 id="windows"><a class="header" href="#windows">Windows</a></h5>
<pre><code class="language-bash"> curl -LO https://github.com/epinio/epinio/releases/download/&lt;epinio-version&gt;/epinio-windows-amd64.exe
</code></pre>
<h3 id="make-the-binary-executable"><a class="header" href="#make-the-binary-executable">Make the Binary Executable</a></h3>
<p>For example on Linux and Mac:</p>
<pre><code class="language-bash">chmod +x epinio
</code></pre>
<p>Move the binary to your PATH</p>
<pre><code class="language-bash">sudo mv ./epinio /usr/local/bin/epinio
</code></pre>
<h3 id="verify-the-installation"><a class="header" href="#verify-the-installation">Verify the Installation</a></h3>
<p>Run e.g. <code>epinio version</code> to test the successful installation.</p>
<pre><code class="language-bash">&gt; epinio version
Epinio Version: v0.1.0
Go Version: go1.17
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="installation-using-a-custom-domain"><a class="header" href="#installation-using-a-custom-domain">Installation using a Custom Domain</a></h1>
<p>For test and production environments. The installation will be done in three steps.</p>
<ul>
<li>Install ingress in cluster</li>
<li>Install Epinio in cluster</li>
<li>Configure your Custom Domain</li>
</ul>
<h2 id="install-the-epinio-cli"><a class="header" href="#install-the-epinio-cli">Install the Epinio CLI</a></h2>
<p>If not done already, refer to <a href="installation/./install_epinio_cli.html">Install the Epinio CLI</a>.</p>
<h2 id="install-epinio-on-your-cluster"><a class="header" href="#install-epinio-on-your-cluster">Install Epinio on your cluster</a></h2>
<p>Epinio is installed from a single Helm chart. You can follow the steps described in <a href="installation/installation.html">Install Epinio</a> page.</p>
<h2 id="configure-your-custom-domain"><a class="header" href="#configure-your-custom-domain">Configure your Custom Domain</a></h2>
<p>Currently we recommend to configure a wildcard domain for Epinio.</p>
<p>Given you own the domain <strong>&quot;example.com&quot;</strong>, you would configure a subdomain e.g. <strong>&quot;test.example.com&quot;</strong> for Epinio.
Now you will have to configure your DNS in a way, that any request towards &quot;test.example.com&quot; will resolve to the &quot;EXTERNAL-IP&quot; of Traefik, 
and Ingress will route the traffic accordingly.</p>
<ul>
<li>test.example.com =&gt; &quot;EXTERNAL-IP&quot;</li>
<li>*.test.example.com =&gt; &quot;EXTERNAL-IP&quot;</li>
</ul>
<hr />
<h6 id="note-you-can-also-check-the-external-ip-by-running-the-command-kubectl-get-svc--n-traefik"><a class="header" href="#note-you-can-also-check-the-external-ip-by-running-the-command-kubectl-get-svc--n-traefik">Note you can also check the &quot;EXTERNAL-IP&quot; by running the command <code>kubectl get svc -n traefik</code>.</a></h6>
<hr />
<p>Find <a href="installation/install_epinio_customDNS.html#dns-configuration-examples">DNS Configuration Examples</a> below.</p>
<h2 id="dns-configuration-examples"><a class="header" href="#dns-configuration-examples">DNS Configuration Examples</a></h2>
<h3 id="aws-eks-and-route53"><a class="header" href="#aws-eks-and-route53">AWS EKS and Route53</a></h3>
<p>As an example we will use the <a href="https://aws.amazon.com/route53/">AWS Service Route53</a> to create a wildcard domain within one of your existing &quot;Hosted zones&quot;, e.g. <strong>example.com</strong>.</p>
<p>Given Epinio ingress installation provided you with the following hostname:</p>
<pre><code class="language-bash">Traefik Ingress info: [{&quot;hostname&quot;:&quot;abcdefg12345671234567abcdefg1234-1234567890.eu-west-1.elb.amazonaws.com&quot;}]
</code></pre>
<hr />
<h6 id="note-you-can-also-check-the-external-ipfqdn-by-running-the-command-kubectl-get-svc--n-traefik"><a class="header" href="#note-you-can-also-check-the-external-ipfqdn-by-running-the-command-kubectl-get-svc--n-traefik">Note you can also check the &quot;EXTERNAL-IP&quot;/FQDN by running the command <code>kubectl get svc -n traefik</code>.</a></h6>
<hr />
<p>Now you will have to add two CNAME records, for the subdomain, e.g. &quot;test&quot; to have &quot;test.example.com&quot;, resp. &quot;*.test.example.com&quot;.
Replace &quot;abcdefg12345671234567abcdefg1234-1234567890.eu-west-1.elb.amazonaws.com&quot; with the your EKS FQDN, and &quot;test.example.com&quot; with your custom domain.</p>
<h5 id="testexamplecom"><a class="header" href="#testexamplecom">test.example.com</a></h5>
<pre><code class="language-bash">Record name: test
Record type: CNAME - Routes traffic to another domain name and some AWS resources
Value: abcdefg12345671234567abcdefg1234-1234567890.eu-west-1.elb.amazonaws.com
</code></pre>
<h5 id="testexamplecom-1"><a class="header" href="#testexamplecom-1">*.test.example.com</a></h5>
<pre><code class="language-bash">Record name: *.test
Record type: CNAME - Routes traffic to another domain name and some AWS resources
Value: abcdefg12345671234567abcdefg1234-1234567890.eu-west-1.elb.amazonaws.com
</code></pre>
<p>Finally, running </p>
<p><code>&gt; host test.example.com</code>, or even</p>
<p><code>&gt; host epinio.test.example.com</code></p>
<p>should resolve to e.g. &quot;abcdefg12345671234567abcdefg1234-1234567890.eu-west-1.elb.amazonaws.com&quot;.</p>
<h3 id="azure-aks-and-example-domain"><a class="header" href="#azure-aks-and-example-domain">Azure AKS and &quot;example-domain&quot;</a></h3>
<p>As an example we will use the Azure resource group &quot;example-domain&quot;, with the zone &quot;example.com&quot;.</p>
<p>Given Epinio ingress installation provided you with the following hostname:</p>
<pre><code class="language-bash">Traefik Ingress info: [{&quot;ip&quot;:&quot;10.0.0.1&quot;}]
</code></pre>
<hr />
<h6 id="note-you-can-also-check-the-external-ipfqdn-by-running-the-command-kubectl-get-svc--n-traefik-1"><a class="header" href="#note-you-can-also-check-the-external-ipfqdn-by-running-the-command-kubectl-get-svc--n-traefik-1">Note you can also check the &quot;EXTERNAL-IP&quot;/FQDN by running the command <code>kubectl get svc -n traefik</code>.</a></h6>
<hr />
<p>Now you will have to add two A records, for the subdomain, e.g. &quot;test&quot; to have &quot;test.example.com&quot;, resp. &quot;*.test.example.com&quot; to the DNS zone &quot;example.com&quot;.
Replace &quot;10.0.0.1&quot; with the IP from &quot;Traefik Ingress info&quot;, and &quot;test.example.com&quot; with your custom domain.</p>
<h5 id="testexamplecom-2"><a class="header" href="#testexamplecom-2">test.example.com</a></h5>
<pre><code class="language-bash">Record name: test.example.com
Record type: A
IP address: 10.0.0.1
</code></pre>
<h5 id="testexamplecom-3"><a class="header" href="#testexamplecom-3">*.test.example.com</a></h5>
<pre><code class="language-bash">Record name: *.test.example.com
Record type: A
IP address: 10.0.0.1
</code></pre>
<p>Finally, running</p>
<p><code>&gt; host test.example.com</code>, or even</p>
<p><code>&gt; host epinio.test.example.com</code></p>
<p>should resolve to e.g. &quot;10.0.0.1&quot;.</p>
<h3 id="bind-dns"><a class="header" href="#bind-dns">Bind DNS</a></h3>
<p>Given Epinio ingress installation provided you with the following hostname:</p>
<pre><code class="language-bash">Traefik Ingress info: [{&quot;ip&quot;:&quot;10.0.0.1&quot;}]
</code></pre>
<hr />
<h6 id="note-you-can-also-check-the-external-ipfqdn-by-running-the-command-kubectl-get-svc--n-traefik-2"><a class="header" href="#note-you-can-also-check-the-external-ipfqdn-by-running-the-command-kubectl-get-svc--n-traefik-2">Note you can also check the &quot;EXTERNAL-IP&quot;/FQDN by running the command <code>kubectl get svc -n traefik</code>.</a></h6>
<hr />
<p>Now you will have to add two A records, for the subdomain, e.g. &quot;test&quot; to have &quot;test.example.com&quot;, resp. &quot;*.test.example.com&quot; to e.g. &quot;/var/lib/named/master/forward/example.com&quot;.
Replace &quot;10.0.0.1&quot; with the IP from &quot;Traefik Ingress info&quot;, and &quot;test.example.com&quot; with your custom domain.</p>
<pre><code class="language-bash">$ORIGIN example.com.
test			A	10.0.0.1
$ORIGIN test.example.com.
*			A	10.0.0.1
</code></pre>
<p>Restart bind and verify that e.g. <code>&gt; host test.example.com</code> or <code>&gt; host epinio.test.example.com</code> will resolve to &quot;10.0.0.1&quot;.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="install-the-epinio-cli-1"><a class="header" href="#install-the-epinio-cli-1">Install the Epinio CLI</a></h1>
<p>If not done already, refer to <a href="installation/./install_epinio_cli.html">Install the Epinio CLI</a>.</p>
<h1 id="install-epinio-using-a-magic-dns-service"><a class="header" href="#install-epinio-using-a-magic-dns-service">Install Epinio using a Magic DNS Service</a></h1>
<p>Once you installed Epinio, as described in <a href="installation/installation.html">Install Epinio</a> page, you can use a magic domain that will resolve to a local/private IP and set the <strong>EPINIO_SYSTEM_DOMAIN</strong> variable to <code>&lt;IP&gt;.omg.howdoi.website</code>.</p>
<h2 id="troubleshooting"><a class="header" href="#troubleshooting">Troubleshooting</a></h2>
<h3 id="traefik"><a class="header" href="#traefik">Traefik</a></h3>
<p>In case of trouble with Epinio's Traefik component or Ingress controllers, the <a href="installation/../explanations/advanced.html#traefik">Traefik</a> section in the
<a href="installation/../explanations/advanced.html">Advanced Topics</a> document shall be your friend.</p>
<h3 id="dns-rebind-protection"><a class="header" href="#dns-rebind-protection">DNS Rebind Protection</a></h3>
<p>Some routers filter queries where the answer consists of IP addresses from the private range, like <strong>10.0.0.1</strong>.</p>
<p>This stops a malicous website from probing the local network for hosts.</p>
<p>Amongst those routers is the AVM FRITZBox and everything that uses <a href="https://thekelleys.org.uk/dnsmasq/docs/dnsmasq-man.html">dnsmasq</a> with <code>stop-dns-rebind</code>, like <a href="https://docs.netgate.com/pfsense/en/latest/services/dns/rebinding.html">pfSense</a> or NetworkManager.</p>
<p>If you still want to use the default magic DNS, you'll have to whitelist <code>omg.howdoi.website</code> in your local DNS server.</p>
<div style="break-before: page; page-break-before: always;"></div><h3 id="uninstall"><a class="header" href="#uninstall">Uninstall</a></h3>
<p>NOTE: The command below will delete all the components Epinio originally installed.
<strong>This includes all the deployed applications.</strong></p>
<p>If after installing Epinio, you deployed other things on the same cluster
that depended on those Epinio deployed components (e.g. Traefik, etc),
then removing Epinio will remove those components and this may break your other
workloads that depended on these. Make sure you understand the implications of
uninstalling Epinio before you proceed.</p>
<p>Depending on the method you used to install Epinio (<a href="installation/./install_epinio_auto.html">auto</a> or <a href="installation/./install_epinio_manual.html">manual</a>),
the uninstallation method is different. If you used the &quot;auto&quot; method, then you can uninstall
using the same helm chart:</p>
<pre><code class="language-bash">$ helm uninstall epinio-installer
</code></pre>
<p>If you followed the manual method, you can uninstall each component using <code>helm</code> or <code>kubectl</code>, depending
on how you installed them.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="explanations"><a class="header" href="#explanations">Explanations</a></h1>
<p>Documentation providing background information on key concepts.</p>
<ul>
<li><a href="explanations/advanced.html">Advanced topics</a></li>
<li><a href="explanations/detailed-push-process.html">Detailed Push Process</a></li>
<li><a href="explanations/principles.html">Principles</a></li>
<li><a href="explanations/security.html">Security</a></li>
<li><a href="explanations/windows.html">Windows</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="epinio-advanced-topics"><a class="header" href="#epinio-advanced-topics">Epinio, Advanced Topics</a></h1>
<h2 id="contents"><a class="header" href="#contents">Contents</a></h2>
<p>TODO: Do the same for Minio and list storage class requirements (WaitForFirstConsumer). Add links to upstream docs.
TODO: Explain how to configure external S3 storage.
TODO: Consider doing this in a separate document about the components. Or even, one document per components and links here.</p>
<ul>
<li><a href="explanations/advanced.html#epinio-advanced-topics">Epinio, Advanced Topics</a>
<ul>
<li><a href="explanations/advanced.html#contents">Contents</a></li>
<li><a href="explanations/advanced.html#epinio-installed-components">Epinio installed components</a>
<ul>
<li><a href="explanations/advanced.html#traefik">Traefik</a></li>
<li><a href="explanations/advanced.html#linkerd">Linkerd</a></li>
<li><a href="explanations/advanced.html#epinio">Epinio</a></li>
<li><a href="explanations/advanced.html#cert-manager">Cert Manager</a></li>
<li><a href="explanations/advanced.html#kubed">Kubed</a></li>
<li><a href="explanations/advanced.html#minio">Minio</a></li>
<li><a href="explanations/advanced.html#container-registry">Container Registry</a></li>
</ul>
</li>
<li><a href="explanations/advanced.html#other-advanced-topics">Other Advanced Topics</a>
<ul>
<li><a href="explanations/advanced.html#git-pushing">Git Pushing</a></li>
<li><a href="explanations/advanced.html#traefik-and-linkerd">Traefik and Linkerd</a></li>
<li><a href="explanations/advanced.html#example">Example</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="epinio-installed-components"><a class="header" href="#epinio-installed-components">Epinio installed components</a></h2>
<h3 id="traefik-1"><a class="header" href="#traefik-1">Traefik</a></h3>
<p>When you installed Epinio, it looked at your cluster to see if you had
<a href="https://doc.traefik.io/traefik/providers/kubernetes-ingress/">Traefik</a>
running. If it wasn't there it installed it.</p>
<p>As Epinio only checks two namespaces for Traefik's presence, namely
<code>traefik</code> and <code>kube-system</code>, it is possible that it tries to install
it, despite the cluster having Traefik running. Just in an unexpected
place.</p>
<p>Note that having some other (non-Traefik) Ingress controller running
is <strong>not</strong> a reason to prevent Epinio from installing Traefik. All the
Ingresses used by Epinio expect to be handled by Traefik.</p>
<p>Also, the Traefik instance installed by Epinio, is configured to redirect all
http requests to https automatically (e.g. the requests to the Epinio API, and
the application routes). If you decide to use a Traefik instance which you
deployed, you have to set this up yourself, Epinio won't change your Traefik
installation in any way. Here are the relevant upstream docs for the redirection:</p>
<p>https://doc.traefik.io/traefik/routing/entrypoints/#redirection</p>
<h3 id="linkerd"><a class="header" href="#linkerd">Linkerd</a></h3>
<p>By default, Epinio installs <a href="https://linkerd.io/">Linkerd</a> on your cluster. The
various namespaces created by Epinio become part of the Linkerd Service Mesh and
thus all communication between pods is secured with mutualTLS.</p>
<h3 id="epinio"><a class="header" href="#epinio">Epinio</a></h3>
<p>The epinio binary is used as:</p>
<ul>
<li>a cli tool, used to push applications, create services etc.</li>
<li>the API server component which runs inside the cluster (invoked with the <code>epinio server</code> command)</li>
</ul>
<p>Epinio cli functionality is implemented using the endpoints provided by the Epinio API server
component. For example, when the user asks Epinio to &quot;push&quot; an application, the
cli will contact the &quot;Upload&quot;, &quot;Stage&quot; and &quot;Deploy&quot; endpoints of the Epinio API to upload the application code,
create a container image for the application using this code and run the application on the cluster.</p>
<p>The Epinio API server is running on the cluster and made accessible using Kubernetes resources like
Deployments, Services,  Ingresses and Secrets.</p>
<h3 id="cert-manager-2"><a class="header" href="#cert-manager-2">Cert Manager</a></h3>
<p><a href="https://cert-manager.io/docs/">Upstream documentation</a></p>
<p>The Cert manager component is deployed by Epinio and used to generate and renew the various Certificates needed in order to
serve the various accessible endpoints over TLS (e.g. the Epinio API server).</p>
<p>Epinio supports various options when it comes to certificate issuers (let's encrypt, private CA, bring your own CA, self signed certs).
Cert Manager simplifies the way we handle the various different certificate issuers within Epinio.</p>
<p>You can read more about certificate issuers here: <a href="explanations/../howtos/certificate_issuers.html">certificate issuers documentation</a></p>
<h3 id="kubed-2"><a class="header" href="#kubed-2">Kubed</a></h3>
<p><a href="https://github.com/kubeops/kubed">Upstream documentation</a></p>
<p>Kubed is installed by Epinio to keep secrets that are needed in more than
one namespace synced. For example, the TLS certificate of the <a href="explanations/advanced.html#container-registry">Container Registry</a> is also needed
in Epinio's staging namespace, in order to trust the certificate when pushing the application images.</p>
<p>Kubed makes sure that if the source secret changes, the copy will change too.</p>
<p>Warning: this doesn't mean things will still work if you re-generate a secret manually. Secret rotation will be handled by Epinio in the future.</p>
<h3 id="minio"><a class="header" href="#minio">Minio</a></h3>
<p><a href="https://github.com/minio/minio">Upstream project link</a></p>
<p>Minio is a storage solution that implements the same API as <a href="https://aws.amazon.com/s3/">Amazon S3</a>.</p>
<p>When the user pushes an application using a source code directory (with the <a href="explanations/../references/cli/epinio_push.html"><code>epinio push</code></a> command), the first step taken by the cli is to put the source code into a tarball and upload that to the Epinio API server. The server copies that to the configured S3 storage to be used later during the staging of the application.</p>
<p>When installing Epinio, the user can choose to use an external S3 compatible storage or let Epinio install Minio on the cluster (<a href="explanations/../howtos/setup_external_s3.html">See here how</a>).</p>
<h3 id="container-registry-2"><a class="header" href="#container-registry-2">Container Registry</a></h3>
<p>The result of Epinio's application staging is a container image. This image is used to create a Kubernetes deployment to run the application code.
The staging Job requires that image to be written to some container registry (See also <a href="explanations/../explanations/detailed-push-process.html">Detailed push process</a>). </p>
<p>By default the Epinio installation deploys a container registry inside the Kubernetes cluster to make the process easy and fast.
If you want to look at how this registry is installed, have a look at the helm chart here:</p>
<ul>
<li>https://github.com/epinio/helm-charts/tree/main/chart/container-registry</li>
</ul>
<p>Epinio comes with two consumers of this registry:</p>
<ol>
<li>Staging job - pushing the images</li>
<li>Kubernetes - pulling the images when a Deployment is created for the Application</li>
</ol>
<p>Ideally all consumers will communicate with the registry over TLS to keep the communication encrypted.
Epinio controls the staging job and ensures that whatever CA is used to sign the registry certificate is trusted by it. Achieving the same for Kubernetes however requires configuration that cannot happen from within the cluster, therefore Epinio has no way to ensure that. There are 3 options here:</p>
<ol>
<li>Let the Epinio user manually configure Kubernetes to trust the CA</li>
<li>Use a well-known trusted CA, so that no configuration is needed</li>
<li>Don't encrypt the communication at all</li>
</ol>
<p>Depending on the use case all 3 options may be valid:</p>
<ul>
<li>Option #1 can be selected when the user is installing Epinio with a custom tls-issuer. The user controls the CA and can make sure that this CA is trusted by the cluster before even installing Epinio.
In this case, since the user knows that Kubernetes will trust the registry's certificate, the <code>forceKubeInternalRegistryTLS</code> variable should be used during the installation.</li>
<li>Option #2 is valid when the tls-issuer used is one that uses a well known CA (e.g. <code>letsencrypt-production</code>). The <code>forceKubeInternalRegistryTLS</code> variable should be used in that case as well.</li>
<li>Option #3 is ok if the user works with a local cluster, doing development or just preparing a demo. In this case, to keep things simple and save the user from having to configure Kubernetes to trust a CA, Epinio let's Kubernetes access the registry without TLS. This is done by exposing the Registry as a NodePort service and letting Kubernetes access it on localhost. User shouldn't specify the <code>forceKubeInternalRegistryTLS</code> variable in this case (default is &quot;false&quot;). Even in this case, the staging job still accesses the registry over TLS.</li>
</ul>
<p>Epinio also allows the use of an external registry. The <a href="explanations/../howtos/setup_external_registry.html">instructions</a> on how such a registry can be set up are in a separate document.</p>
<h2 id="other-advanced-topics"><a class="header" href="#other-advanced-topics">Other Advanced Topics</a></h2>
<h3 id="git-pushing"><a class="header" href="#git-pushing">Git Pushing</a></h3>
<p>The quick way of pushing an application, as explained at
<a href="explanations/../tutorials/quickstart.html#push-an-application">Quickstart: Push an application</a>, uses a local
directory containing a checkout of the application's sources.</p>
<p>Internally this is actually <a href="explanations/detailed-push-process.html">quite complex</a>. It
involves the creation and upload of an archive (tarball or zip) from these sources by the client
to the Epinio server, copying into Epinio's internal (or external) S3 storage,
copying from that storage to a PersistentVolumeClaim to be used in the job for staging,
i.e. compilation and creation of the docker image to be used by the underlying kubernetes cluster.</p>
<p>The process is a bit different when using the Epinio client's &quot;git mode&quot;. In
this mode <a href="explanations/../references/cli/epinio_push.html"><code>epinio push</code></a> does not take a local directory of sources, but the
location of a git repository holding the sources, and the id of the revision to
use. The client then asks the Epinio server to pull those sources and store them to the
S3 storage. The rest of the process is the same.</p>
<p>The syntax is</p>
<pre><code>epinio push --name NAME --git GIT-REPOSITORY-URL,REVISION
</code></pre>
<p>For comparison all the relevant syntax:</p>
<pre><code>epinio push
epinio push MANIFEST-PATH
epinio push --name NAME
epinio push --name NAME --path DIRECTORY
epinio push --name NAME --git GIT-REPOSITORY-URL,REVISION
</code></pre>
<h3 id="traefik-and-linkerd"><a class="header" href="#traefik-and-linkerd">Traefik and Linkerd</a></h3>
<p>By default, with Epinio installing both Traefik and Linkerd, Epinio's
installation process ensures that the Traefik pods are included in the Linkerd
mesh, thus ensuring that external communication to applications is secured on
the leg between loadbalancer and application service.</p>
<p><strong>However</strong>, there are situations where Epinio does not install Traefik.
This can be because the user specified <code>--skip-traefik</code>, or because Epinio
detected a running Traefik, thus can forego its own.
The latter is possible, for example, when using <code>k3d</code> as cluster foundation.</p>
<p>In these situations the pre-existing Traefik is <strong>not</strong> part of the Linkerd
mesh. As a consequence the communication from loadbalancer to application
service is not as secure.</p>
<p>While it is possible to fix this, the fix requires access to the cluster in
general, and to Traefik's namespace specifically. In other words, permissions to
annotate the Traefik namespace are needed, as well as permissions to restart the
pods in that namespace. The latter is necessary, because Linkerd is not able to
inject itself into running pods. It can only intercept pod (re)starts.</p>
<h3 id="example"><a class="header" href="#example">Example</a></h3>
<p>Assuming that Traefik's namespace is called <code>traefik</code>, with pods
<code>traefik-6f9cbd9bd4-z4zw8</code> and <code>svclb-traefik-q8g75</code>
the commands</p>
<pre><code>kubectl annotate namespace     traefik linkerd.io/inject=enabled
kubectl delete pod --namespace traefik traefik-6f9cbd9bd4-z4zw8 svclb-traefik-q8g75
</code></pre>
<p>will bring the Traefik in that namespace into Epinio's linkerd mesh.</p>
<p>Note that this recipe also works for a Traefik provided by <code>k3d</code>, in the
<code>kube-system</code> namespace.</p>
<p>While it is the namespace which is annotated, only restarted pods are affected
by that, i.e. Traefik's pods here. The other system pods continue to run as they
are.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="epinio-push-in-detail"><a class="header" href="#epinio-push-in-detail">Epinio Push in Detail</a></h1>
<p>Epinio strives to make use of well supported, well known, and loved projects instead of re-inventing the wheel (<a href="explanations/principles.html#guidelines-soft-principles">link</a>).
But while doing so, it makes sure those components are deployed correctly and work together seamlessly. Let's go through the <code>epinio push</code> process in detail,
so you can understand what each components does. You may also want to read the description of every component outside the push process here: <a href="explanations/advanced.html#epinio-installed-components">Epinio components</a>.</p>
<p>You can see an image that visualises the process later in this page. Refer to it while reading the text to help you understand the process more.
The numbers on the various arrows on the image indicate the order of the various steps.</p>
<h2 id="1-epinio-push"><a class="header" href="#1-epinio-push">1. Epinio Push</a></h2>
<p>Epinio exposes an API server running inside the kubernetes cluster for all clients including cli to talk to it. When you run the <code>epinio push</code> command, the first thing the cli is going to do, is to hit the relevant api endpoint for pushing apps. (1a) There is a Traefik ingress which sits in front of the Epinio API server which does BasicAuth for all the requests. (1b) After successful authentication, it routes the request to the Epinio API server. The cli puts your code inside a tarball and sends it to the <code>upload</code> endpoint of the Epinio API server which is running inside the Kubernetes cluster.</p>
<h2 id="2-copying-the-code-to-s3"><a class="header" href="#2-copying-the-code-to-s3">2. Copying the code to S3</a></h2>
<p>One of the components Epinio installs on your cluster is <a href="https://min.io/">Minio</a> (unless you <a href="explanations/../howtos/setup_external_s3.html">configured external S3</a>).
Minio is an S3 compatible storage solution. Epinio uses it to store the application's source code. It will later be used by the staging job.</p>
<p>So the first thing the Epinio API server does when it receives the upload request (the previous step), is to store the source code tarball on S3.</p>
<h2 id="3-staging-the-app"><a class="header" href="#3-staging-the-app">3. Staging the App</a></h2>
<p>When the upload request is complete, the cli will send a request to the <code>stage</code> endpoint of the Epinio API server. This will instruct the server to start the staging of the uploaded code.</p>
<h2 id="4-trigger-the-job"><a class="header" href="#4-trigger-the-job">4. Trigger the Job</a></h2>
<p>When the Epinio API server receives the stage request, it will create a <a href="https://kubernetes.io/docs/concepts/workloads/controllers/job/"><code>Job</code></a> that will run the staging scripts using the version of the code referenced in the request. This job has 3 steps. Their role is described in the following 3 sections.</p>
<h2 id="5-fetch-the-code"><a class="header" href="#5-fetch-the-code">5. Fetch the code</a></h2>
<p>The first step of staging downloads the code from the S3 storage to a workspace, i.e. directory. This makes the code available to the following steps.</p>
<h2 id="6-unpack-the-sources"><a class="header" href="#6-unpack-the-sources">6. Unpack the sources</a></h2>
<p>The second step of staging unpacks the downloaded archive into a sub-directory of the workspace. </p>
<h2 id="7-stage"><a class="header" href="#7-stage">7. Stage</a></h2>
<p>The third step of staging uses the <a href="https://paketo.io/">paketo buildpacks</a> to create a container image for your application.
The result of a successful staging process is a new image pushed to the Registry component of Epinio.
Read more about the registry here: <a href="explanations/../explanations/advanced.html#container-registry">Epinio Registry</a>.</p>
<h2 id="8-run"><a class="header" href="#8-run">8. Run</a></h2>
<p>To run a workload on Kubernetes having a container image is not enough. You need at least a Pod running with at least one container running that image.</p>
<p>This is done again by the API server, on demand by the client after noting the completion of the staging process.</p>
<p>The most important resources that are created are a <a href="https://kubernetes.io/docs/concepts/workloads/controllers/deployment/">Deployment</a>, a <a href="https://kubernetes.io/docs/concepts/services-networking/service/">Service</a> and an <a href="https://kubernetes.io/docs/concepts/services-networking/ingress/">Ingress</a> resource.</p>
<h2 id="9-pull-image"><a class="header" href="#9-pull-image">9. Pull Image</a></h2>
<p>The Deployment uses the image that was pushed as part of the staging step (see arrow 6). Now, the kubelet will pull the image from the registry for the deployment resource to use it.</p>
<p>You can read how these resources work in Kubernetes following the provided links but if you have to know one thing is that Ingress is the thing that describes how a request that uses the Application's url is routed to the application container. In Kubernetes, the thing that reads that description and implements the routing is called an Ingress Controller. Such an Ingress Controller is provided by <a href="https://doc.traefik.io/traefik/providers/kubernetes-ingress/">Traefik</a>.</p>
<h2 id="ingress-implementation-traefik"><a class="header" href="#ingress-implementation-traefik">Ingress Implementation (Traefik)</a></h2>
<p>When you installed Epinio, it looked at your cluster to see if you had <a href="https://doc.traefik.io/traefik/providers/kubernetes-ingress/">Traefik</a> running. If it wasn't there it installed it. Traefik among other things, is an Ingress Controller. As explained above, the Ingress Controller reads your Ingress Resource Definitions and implements the desired routing to the appropriate Services/Pods.</p>
<p>In Epinio, for every application we create an Ingress that routes the traffic for this application through a subdomain that looks something like this:</p>
<pre><code>myapplication.my_epinio_system_domain.com
</code></pre>
<p>You can get the route of your application with <code>epinio apps list</code> or <code>epinio apps show myapplication</code>. By specifying one or more <code>--route</code> options, either with the <code>epinio push</code> command or later with <code>epinio app update</code>, it is possible to set and use arbitrary custom routes for the application . <strong>Make sure</strong> that these custom domains point to the Traefik Ingress controller IP of epinio (that is the same IP address your system-domain points to).</p>
<h2 id="additional-things"><a class="header" href="#additional-things">Additional Things</a></h2>
<p>During installation, if you specified a system domain using the <code>--set domain=...</code> option of the chart, then your application routes will be subdomains of that domain.
If you didn't specify a system domain then Epinio uses a &quot;magic DNS&quot; service running on the <code>omg.howdoi.website</code> which is similar to <a href="https://nip.io/">nip.io</a>, and <a href="http://xip.io/">xip.io</a>.
These services resolve all subdomains of the root domain to the subdomain's IP address. E.g. <code>1.2.3.4.omg.howdoi.website</code> simply resolves to <code>1.2.3.4</code>. They are useful when you don't have a real domain but you still need a wildcard domain to create subdomains for. Depending on your setup, the IP address of the cluster which Epinio discovers automatically may not be accessible by your browser and thus you may need to set the system domain when installing to use another IP. This is the case for example when you run a Kubernetes cluster with docker (e.g. <a href="https://k3d.io/">k3d</a> or <a href="https://github.com/kubernetes-sigs/kind">kind</a>) inside a VM (for example when using docker on Mac). Then the IP address which Epinio detects is the IP address of the docker container but that is not accessible from your host. You will need to bind the container's ports <code>80</code> and <code>443</code> to the VMs ports <code>80</code> and <code>443</code> and then use the VMs IP address instead.</p>
<h2 id="the-process-visualized"><a class="header" href="#the-process-visualized">The Process Visualized</a></h2>
<p><img src="explanations/epinio-push-detailed.svg?raw=true" alt="epinio-push-detailed" title="Epinio push" /></p>
<h2 id="credits"><a class="header" href="#credits">Credits</a></h2>
<ul>
<li>Icons from: https://materialdesignicons.com/ (Source: https://github.com/Templarian/MaterialDesign)</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="design-principles"><a class="header" href="#design-principles">Design Principles</a></h2>
<p>Epinio's development is governed by the following principles:</p>
<ul>
<li><strong>Greater Developer Experience</strong>
<ul>
<li>Single command push for short learning curve</li>
</ul>
</li>
<li><strong>Edge Friendly</strong> 
<ul>
<li>Has to fit in less than 4GB of RAM</li>
</ul>
</li>
<li><strong>Easy Installation</strong> 
<ul>
<li>Has to install in less than 5 minutes when images are warm</li>
<li>Has to completely uninstall and leave the cluster in its previous state with a one-line command</li>
</ul>
</li>
<li><strong>Minimum Complexity</strong>
<ul>
<li>Scale from desktop/local to data center environment</li>
<li>Has to install with a one-line command and zero config</li>
</ul>
</li>
<li><strong>API Driven Architecture</strong></li>
<li><strong>Security Focused</strong></li>
</ul>
<h3 id="guidelines-soft-principles"><a class="header" href="#guidelines-soft-principles">Guidelines (Soft Principles)</a></h3>
<ul>
<li>When possible, prefer:
<ul>
<li>components that are written in go</li>
<li>Kubernetes primitives over custom resources</li>
<li>Well known components with active community over custom code</li>
</ul>
</li>
<li>all acceptance tests should run in less than 10 minutes</li>
<li>all tests should be able to run on the minimal cluster</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h4 id="a-quick-note-on-security"><a class="header" href="#a-quick-note-on-security">A Quick Note On Security</a></h4>
<p>Epinio secures access to its API with TLS and basic authentication.</p>
<p>Use the <code>epinio settings update</code> command after installation to extract and save the necessary credentials
(user, password) and certificates. The information is stored in Epinio's settings,
for pickup by other Epinio commands.</p>
<p>For a trial deployment the certificate securing the API will be generated by the
underlying cluster, and self-signed, and its CA certificate is stored in the
settings to allow verification.</p>
<p>For a production-oriented deployment on the other hand, with a proper
domain specified (<code>--set domain=...</code> when installing the chart), the certificate is obtained from
<a href="https://letsencrypt.org/">Let's Encrypt</a> instead. Nothing is stored in the
settings in that case, as Let's Encrypt is a known CA.</p>
<p>How Kubernetes accesses the Epinio registry (TLS or not) is handled a bit differently depending on installation flags.
More details here: <a href="explanations/../explanations/advanced.html#container-registry">Epinio Registry</a>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="howtos"><a class="header" href="#howtos">HowTos</a></h1>
<p>Documentation solving specific, sometimes advanced, problems in a practical manner.</p>
<ul>
<li><a href="howtos/certificate_issuers.html">Certificate Issuers</a></li>
<li><a href="howtos/provision_external_ip_for_local_kubernetes.html">Provision external IP address for local Kubernetes</a></li>
<li><a href="howtos/gitjob_push.html">Push with gitjob</a></li>
<li><a href="howtos/setup_external_s3.html">Setup external S3 storage</a></li>
<li><a href="howtos/setup_external_registry.html">Setup external container registry</a></li>
<li><a href="howtos/port_forwarding.html">Port Forwarding</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="using-a-certificate-issuer"><a class="header" href="#using-a-certificate-issuer">Using a Certificate Issuer</a></h1>
<p>Epinio comes with multiple <a href="https://cert-manager.io/docs/configuration/">cert-manager cluster issuers</a> for creating certificates:</p>
<ul>
<li>epinio-ca (default)</li>
<li>letsencrypt-production</li>
<li>selfsigned-issuer</li>
</ul>
<p>The issuer will be used for both, the Epinio API endpoint and workloads (i.e. pushed applications).</p>
<h2 id="choosing-a-different-issuer"><a class="header" href="#choosing-a-different-issuer">Choosing a Different Issuer</a></h2>
<p>When installing Epinio, one can choose between those issuers by using the <code>tlsIssuer</code> variable:</p>
<h2 id="using-a-custom-issuer"><a class="header" href="#using-a-custom-issuer">Using a custom issuer</a></h2>
<p>It's possible to create a cert-manager cluster issuer in the cluster, before installing Epinio and referencing it by name when installing.</p>
<p>However, this is only possible if the cert-manager CRD is present in the cluster.</p>
<p>Install cert-manager first, then create the cluster issuer and finally install Epinio with the correct <code>tlsIssuer</code>.</p>
<h3 id="cluster-issuer-for-acme-dns-challenge"><a class="header" href="#cluster-issuer-for-acme-dns-challenge">Cluster Issuer for ACME DNS Challenge</a></h3>
<p>For example to use Letsencrypt with a DNS challenge, which supports wildcards and private IPs, create this cluster issuer after installing cert-manager:</p>
<pre><code>apiVersion: cert-manager.io/v1
kind: ClusterIssuer
metadata:
  name: dns-staging
spec:
  acme:
    server: https://acme-staging-v02.api.letsencrypt.org/directory
    privateKeySecretRef:
      name: example-issuer-account-key
    solvers:
    - dns01:
        cloudflare:
          email: user@example.com
          apiKeySecretRef:
            name: cloudflare-apikey-secret
            key: apikey
      selector:
        dnsNames:
        - 'example.com'
        - '*.example.com'
</code></pre>
<p>Note: This uses the Letsencrypt staging endpoint for testing. More information in the <a href="https://cert-manager.io/docs/configuration/acme/dns01/">cert-manager ACME docs</a>.</p>
<p>You can then install Epinio, with the <code>skipCertManager</code> variable, and the <code>tlsIssuer</code> pointing to the new cluster issuer:</p>
<pre><code>helm install \
  --set skipCertManager=true \
  --set tlsIssuer=dns-staging \
  epinio-installer epinio/epinio-installer
</code></pre>
<h3 id="cluster-issuer-for-existing-private-ca"><a class="header" href="#cluster-issuer-for-existing-private-ca">Cluster Issuer for Existing Private CA</a></h3>
<p>According to the instructions from https://cert-manager.io/docs/configuration/ca/, follow these steps:</p>
<h4 id="create-secret-with-ca-cert-and-key"><a class="header" href="#create-secret-with-ca-cert-and-key">Create Secret With CA Cert and Key</a></h4>
<p>If you don't already have a private CA, use a tool like openssl or easy-rsa to create it.</p>
<p>The following oneliner creates a CA:</p>
<pre><code>openssl req -x509 -newkey rsa:4096 -sha256 -days 3650 -nodes \
  -keyout example.key -out example.crt -subj &quot;/CN=*.omg.howdoi.website&quot;
</code></pre>
<p>Create a Kubernetes secret from the CA, in the cert-manager namespace.</p>
<pre><code>kubectl create secret -n cert-manager tls private-ca-secret \
  --cert=./example.crt --key=./example.key
</code></pre>
<p>The cert-manager documentation has more details about this.</p>
<h4 id="create-clusterissuer"><a class="header" href="#create-clusterissuer">Create ClusterIssuer</a></h4>
<p>Then create the cluster issuer:</p>
<pre><code>apiVersion: cert-manager.io/v1
kind: ClusterIssuer
metadata:
  name: private-ca
spec:
  ca:
    secretName: private-ca-secret
</code></pre>
<h4 id="install-epinio-2"><a class="header" href="#install-epinio-2">Install Epinio</a></h4>
<p>Use the <code>tlsIssuer</code> variable to choose your cluster issuer:</p>
<pre><code>helm install \
  --set skipCertManager=true \
  --set tlsIssuer=private-ca \
  epinio-installer epinio/epinio-installer
</code></pre>
<h1 id="use-tls-when-pulling-from-internal-registry"><a class="header" href="#use-tls-when-pulling-from-internal-registry">Use TLS When Pulling From Internal Registry</a></h1>
<p>Epinio comes with its own registry for Docker images. This registry needs to be reachable from the Kubernetes nodes.
If you are using a certificate issuer whose CA is trusted by the Kubernetes nodes, you can turn on SSL for pulling images from the internal registry:</p>
<pre><code>epinio install --tls-issuer=letsencrypt-production --use-internal-registry-node-port=false
</code></pre>
<pre><code>helm install \
  --set tlsIssuer=letsencrypt-production \
  epinio-installer epinio/epinio-installer
</code></pre>
<p>Without the node port, pushing images to the registry uses the &quot;epinio-registry&quot; ingress, which is handled by Traefik.</p>
<h1 id="background-on-cert-manager-and-issuers"><a class="header" href="#background-on-cert-manager-and-issuers">Background on Cert Manager and Issuers</a></h1>
<p>Cert manager watches for a <em>certificate</em> resource and uses the referenced <em>cluster issuer</em> to generate a certificate.
The certificate is stored in a <em>secret</em>, in the namespace the certificate resources was created in.
An <em>ingress</em> resource can then use that secret to set up TLS.</p>
<p>Example:</p>
<ol>
<li>The Epinio installation creates a certificate resource in epinio namespace</li>
</ol>
<pre><code>apiVersion: cert-manager.io/v1alpha2
kind: Certificate
metadata:
  name: epinio
  namespace: epinio
spec:
  commonName: epinio.172.27.0.2.omg.howdoi.website
  dnsNames:
  - epinio.172.27.0.2.omg.howdoi.website
  issuerRef:
    kind: ClusterIssuer
    name: epinio-ca
  secretName: epinio-tls
</code></pre>
<ol start="2">
<li>cert-manager creates the 'epinio-tls' secret, using the referenced cluster issuer 'epinio-ca'</li>
</ol>
<pre><code>apiVersion: v1
kind: Secret
type: kubernetes.io/tls
metadata:
  annotations:
    cert-manager.io/alt-names: epinio.172.27.0.2.omg.howdoi.website
    cert-manager.io/certificate-name: epinio
    cert-manager.io/common-name: epinio.172.27.0.2.omg.howdoi.website
    cert-manager.io/ip-sans: &quot;&quot;
    cert-manager.io/issuer-group: &quot;&quot;
    cert-manager.io/issuer-kind: ClusterIssuer
    cert-manager.io/issuer-name: epinio-ca
    cert-manager.io/uri-sans: &quot;&quot;
  name: epinio-tls
  namespace: epinio
data:
  ca.crt: ...
  tls.crt: ...
  tls.key: ...
</code></pre>
<ol start="3">
<li>Epinio creates an ingress resource</li>
</ol>
<pre><code>apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  annotations:
    kubernetes.io/ingress.class: traefik
    traefik.ingress.kubernetes.io/router.entrypoints: websecure
    traefik.ingress.kubernetes.io/router.middlewares: epinio-epinio-api-auth@kubernetescrd
    traefik.ingress.kubernetes.io/router.tls: &quot;true&quot;
  labels:
    app.kubernetes.io/name: epinio
  name: epinio
  namespace: epinio
spec:
  rules:
  - host: epinio.172.27.0.2.omg.howdoi.website
    http:
      paths:
      - backend:
          service:
            name: epinio-server
            port:
              number: 80
        path: /
        pathType: ImplementationSpecific
  tls:
  - hosts:
    - epinio.172.27.0.2.omg.howdoi.website
    secretName: epinio-tls
</code></pre>
<h2 id="epinio-push"><a class="header" href="#epinio-push">Epinio Push</a></h2>
<p>The same is true for applications, <code>epinio push</code> creates a <code>certificate</code> in the app's workspace and cert-manager creates a secret for the app's ingress.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="provision-of-external-ip-for-loadbalancer-service-type-in-kubernetes"><a class="header" href="#provision-of-external-ip-for-loadbalancer-service-type-in-kubernetes">Provision of External IP for LoadBalancer service type in Kubernetes</a></h2>
<p>Local kubernetes platforms do not have the ability to provide external IP address when you create a kubernetes service with <code>LoadBalancer</code> service type. The following steps will enable this ability for different local kubernetes platforms. Follow these steps before installing epinio.</p>
<h3 id="k3sk3d"><a class="header" href="#k3sk3d">K3s/K3d</a></h3>
<ul>
<li>Provision of LoadBalancer IP is enabled by default in K3s/K3d.</li>
</ul>
<h3 id="minikube"><a class="header" href="#minikube">Minikube</a></h3>
<p>See <a href="howtos//installation/install_epinio_on_minikube.html">Install Epinio on Minikube</a> on how to
configure minikube.</p>
<h3 id="kind"><a class="header" href="#kind">Kind</a></h3>
<ul>
<li>
<p>Install JQ from https://stedolan.github.io/jq/download/</p>
</li>
<li>
<p>Install and configure MetalLB </p>
</li>
</ul>
<pre><code>kubectl apply -f https://raw.githubusercontent.com/metallb/metallb/v0.9.5/manifests/namespace.yaml
kubectl apply -f https://raw.githubusercontent.com/metallb/metallb/v0.9.5/manifests/metallb.yaml
kubectl create secret generic -n metallb-system memberlist --from-literal=secretkey=&quot;$(openssl rand -base64 128)&quot;

SUBNET_IP=`docker network inspect kind | jq -r '.[0].IPAM.Config[0].Gateway'`
## Use the last few IP addresses
IP_ARRAY=(${SUBNET_IP//./ })
SUBNET_IP=&quot;${IP_ARRAY[0]}.${IP_ARRAY[1]}.255.255&quot;

cat &lt;&lt;EOF | kubectl apply -f -
apiVersion: v1
kind: ConfigMap
metadata:
  namespace: metallb-system
  name: config
data:
  config: |
    address-pools:
    - name: default
      protocol: layer2
      addresses:
      - ${SUBNET_IP}/28
EOF
</code></pre>
<h3 id="microk8s"><a class="header" href="#microk8s">MicroK8s</a></h3>
<ul>
<li>Install and configure MetalLB</li>
</ul>
<pre><code>INTERFACE=`ip route | grep default | awk '{print $5}'`
IP=`ifconfig $INTERFACE | sed -n '2 p' | awk '{print $2}'`
microk8s enable metallb:${IP}/16
</code></pre>
<h3 id="digital-ocean"><a class="header" href="#digital-ocean">Digital Ocean</a></h3>
<p>When installing Epinio on Rancher-provisioned RKE2 or RKE1
clusters on Digital Ocean, you might see this error message:</p>
<pre><code>error installing Epinio:
timed out waiting for LoadBalancer IP on traefik service
Ensure your kubernetes platform has the ability to provision a LoadBalancer IP address.
</code></pre>
<p>In this case you need to configure RKE/RKE2 with an external cloud
provider as <a href="https://github.com/digitalocean/digitalocean-cloud-controller-manager">this one</a>.</p>
<div style="break-before: page; page-break-before: always;"></div><p>One of the more interesting features of Rio was that it would let you set up a deployment that rebuilds and republishes when your code stored in Git is changed. </p>
<p>We can recreate this functionality using the GitJob CRD that's a part of <a href="https://fleet.rancher.io/">Rancher Fleet</a>.</p>
<p>NOTE: We will improve this experience in the future!</p>
<h2 id="setup"><a class="header" href="#setup">Setup</a></h2>
<h3 id="install-gitjob"><a class="header" href="#install-gitjob">Install GitJob</a></h3>
<p>If you don't have Rancher (or standalone Fleet) installed, we need to install the GitJob operator by following the instructions found at https://github.com/rancher/gitjob#running.</p>
<p>Then we need to setup the Service Account to run our Jobs with (since we don't need to do anything directly with the kube api, we don't need to add any role bindings to it):</p>
<pre><code>apiVersion: v1
kind: ServiceAccount
metadata:
  name: epinio-push
</code></pre>
<h3 id="upload-epinio-settings"><a class="header" href="#upload-epinio-settings">Upload Epinio Settings</a></h3>
<p>So the GitJob can authenticate and push correctly, we can upload our Epinio settings file to the cluster with:</p>
<pre><code>kubectl create secret generic epinio-creds --from-file=$HOME/.config/epinio/settings.yaml
</code></pre>
<p>This will create a secret containing the settings.yaml that was created locally when you do <code>epinio settings update</code></p>
<h3 id="setup-sample-project"><a class="header" href="#setup-sample-project">Setup Sample Project</a></h3>
<p>Next, we can use the 12factor app to show how to write a GitJob.</p>
<p>Create a yaml file called <code>12factor-gitjob.yaml</code> containing:</p>
<pre><code class="language-yaml">apiVersion: gitjob.cattle.io/v1
kind: GitJob
metadata:
  # The name of the GitJob, doesn't need to match the project.
  name: samplepush
spec:
  syncInterval: 15
  git:
    # The git repo and branch to track. 
    repo: https://github.com/epinio/example-12factor
    branch: main
  jobSpec:
    template:
      spec:
        # This should match what we created in the last step
        serviceAccountName: epinio-gitjob
        restartPolicy: &quot;Never&quot;
        containers:
        # This version should match your epinio deployment
        - image: &quot;splatform/epinio-server:v0.1.0&quot;
          name: epinio-push
          volumeMounts:
          - name: settings
            mountPath: &quot;/settings/&quot;
            readOnly: true
          env:
          - name: EPINIO_CONFIG
            value: &quot;/settings/settings.yaml&quot;
          command:
          - /epinio 
          args:
          - push 
          # This is the name of the app to push
          - test12factor
          workingDir: /workspace/source
        volumes:
        - name: settings
          secret:
            secretName: epinio-creds
</code></pre>
<p>You can apply this via:</p>
<pre><code>kubectl apply -f 12factor-gitjob.yaml
</code></pre>
<p>Once applied, you should see a Job and then Pod get created:</p>
<pre><code>kubectl get job,pod
</code></pre>
<p>You can follow the logs of the pod listed above with:</p>
<pre><code>kubectl logs &lt;pod_name&gt; -f
</code></pre>
<h3 id="using-webhooks"><a class="header" href="#using-webhooks">Using Webhooks</a></h3>
<p>If you prefer to use webhooks instead of polling, set up the job in the same way as before but also follow the instructions found at: https://github.com/rancher/gitjob#webhook</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="how-to-setup-external-s3-storage"><a class="header" href="#how-to-setup-external-s3-storage">How to setup external S3 storage</a></h2>
<p>One of the steps involved in running <code>epinio push</code> is storing the requested version of the code
in the configured Epinio S3 compatible storage. By default, Epinio installs and configures <a href="https://github.com/minio/minio">Minio</a>
to be used for this purpose. This document describes how to point Epinio to another S3 compatible storage and skip the Minio installation.</p>
<p>The Epinio Helm chart has the following optional parameters:</p>
<table><thead><tr><th align="left">Variable name</th><th align="left">Description</th><th align="center">Mandatory</th><th align="center">Default</th></tr></thead><tbody>
<tr><td align="left"><code>useS3Storage</code></td><td align="left">Use S3 storage</td><td align="center">yes</td><td align="center">&quot;&quot;</td></tr>
<tr><td align="left"><code>s3Bucket</code></td><td align="left">S3 bucket where you want to store your apps</td><td align="center">yes</td><td align="center"><code>epinio</code></td></tr>
<tr><td align="left"><code>s3Endpoint</code></td><td align="left">S3 endpoint</td><td align="center">yes</td><td align="center"><code>minio.minio-epinio.svc.cluster.local</code></td></tr>
<tr><td align="left"><code>s3AccessKeyId</code></td><td align="left">S3 access key id to authenticate to the endpoint</td><td align="center">yes</td><td align="center">&quot;&quot;</td></tr>
<tr><td align="left"><code>s3SecretAccessKey</code></td><td align="left">S3 secret access key id to authenticate to the endpoint</td><td align="center">yes</td><td align="center">&quot;&quot;</td></tr>
<tr><td align="left"><code>s3UseSSL</code></td><td align="left">Use SSL for encryption</td><td align="center">no</td><td align="center"><code>false</code></td></tr>
<tr><td align="left"><code>s3Location</code></td><td align="left">S3 region where your bucket is</td><td align="center">no</td><td align="center">&quot;&quot;</td></tr>
</tbody></table>
<p>To configure Epinio to store application sources to an external S3 compatible storage, at least the mandatory options should be set.
(Some implementations don't need the location (e.g. Minio) and <code>s3-use-ssl</code> has a default value of &quot;false&quot;)</p>
<p>For instance, add the following options to your Helm command to make Epinio pointing to AWS:</p>
<pre><code>--set useS3Storage=true \
--set s3UseSSL=true \
--set s3Bucket=&lt;your_bucket_here&gt; \
--set s3Location=&lt;your_region_here&gt; \
--set s3Endpoint=s3.amazonaws.com \
--set s3AccessKeyId=&lt;your_access_key_here&gt; \
--set s3SecretAccessKey=&lt;your_secret_access_key_here&gt; \
</code></pre>
<p>If the bucket doesn't exist, Epinio will try to create it when it first tries
to write to it. Make sure the access key and the access secret have enough permissions
to create a bucket and then write to it.</p>
<p>When you successfully push a new version of your application, Epinio will remove the resources of the previous staging process from the Kubernetes cluster and
will also delete the previous version of the sources from S3. This way, Epinio doesn't store more than it needs on the S3 storage and the user doesn't need to manually cleanup.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="how-to-setup-external-epinio-registry"><a class="header" href="#how-to-setup-external-epinio-registry">How to setup external Epinio registry</a></h2>
<p>Epinio allows the use of an external registry for the storage of application images.  This can be achieved by setting the following variables during the <code>helm install</code>:</p>
<pre><code>helm install \
  --set externalRegistryNamespace=$REGISTRY_NAMESPACE \
  --set externalRegistryURL=$REGISTRY_URL \
  --set externalRegistryUsername=$REGISTRY_USER \
  --set externalRegistryPassword=$REGISTRY_PASSWORD \
  epinio-installer epinio/epinio-installer
</code></pre>
<p>Using <a href="https://hub.docker.com/">dockerhub</a> as an example, the user would have to set the value of <code>$REGISTRY_URL</code> to <code>registry.hub.docker.com</code>, <code>$REGISTRY_USER</code> and <code>$REGISTRY_PASSWORD</code> would be set to the dockerhub credentials, and <code>$REGISTRY_NAMESPACE</code> would be either an organization or the username.</p>
<p>When the above arguments are set, Epinio doesn't deploy a registry on the cluster. Also the <code>forceKubeInternalRegistryTLS</code> variable should not be set because it would have no effect.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="how-to-use-port-forwarding"><a class="header" href="#how-to-use-port-forwarding">How to use Port Forwarding</a></h2>
<p>This how-to demonstrates how to use port forwarding to access or debug a running application.</p>
<p>To prepare the application for debugging the flag <a href="https://paketo.io/docs/howto/java/#enable-remote-debugging"><code>BPL_DEBUG_ENABLED</code></a> has to be set to <code>true</code>.<br />
With the epinio cli this is done by setting the environment variable for the application:</p>
<pre><code>epinio app env set samplejava BPL_DEBUG_ENABLED true
</code></pre>
<p>After the application has restarted (to integrate the change of the environment) port forwarding can be started with the <code>port-forward</code> command:</p>
<pre><code>epinio app port-forward samplejava 34505:8000 34506:8080
</code></pre>
<p>This will forward the traffic coming from <code>localhost:34505</code> to the remote <code>:8000</code> and the <code>localhost:34506</code> to the remote <code>:8080</code>.
<strong>Note</strong> that specification of the local port is optional. When none is provided a random port will be selected.</p>
<h3 id="point-to-a-specific-instance"><a class="header" href="#point-to-a-specific-instance">Point to a specific instance</a></h3>
<p>Port forwarding can be directed to a specific instance of your app. To do this list all the instances of the application, pick the desired ID, and then use the <code>--instance</code> flag to direct the port forwarding to that instance:</p>
<pre><code>-&gt; % epinio app show samplejava

🚢 Show application details
Namespace: workspace
Application: samplejava

✔️  Details:
|        KEY           |                    VALUE                    |
|----------------------|---------------------------------------------|
| Origin               | /home/user/sample                           |
| Status               | 1/1                                         |
| Username             | admin                                       |
| StageId              | cac0d6fec92e0a1f                            |
| Age                  | 2m50s                                       |
| Active Routes        |                                             |
|                      | samplejava.172.19.0.4.omg.howdoi.website    |
| Desired Instances    |                                           1 |
| Bound Configurations |                                             |
| Environment          |                                             |

✔️  Instances: 
|            NAME             | READY |  MEMORY   | MILLICPUS | RESTARTS |  AGE  |
|-----------------------------|-------|-----------|-----------|----------|-------|
| samplejava-5f84c47f76-7mvv7 | true  | 214.0 MiB |         2 |        0 | 2m50s |
</code></pre>
<pre><code>epinio app port-forward samplejava 34506:8080 --instance samplejava-5f84c47f76-7mvv7
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="custom-routes"><a class="header" href="#custom-routes">Custom Routes</a></h1>
<p>Epinio has the concept of a &quot;system domain&quot;. This domain is set when installing
Epinio (with the <code>domain</code> helm value). It must be a <a href="https://en.wikipedia.org/wiki/Wildcard_DNS_record">wildcard domain</a> and is used in 3 different cases:</p>
<ul>
<li>To create a URL for the Epinio API server</li>
<li>To create a URL for the Epinio registry, when it's running inside the cluster (Optional)</li>
<li>To create URLs for the applications deployed with Epinio (also known as &quot;Routes&quot;)</li>
</ul>
<p>For example, if Epinio was deployed with <code>domain</code> set to <code>myawesomedomain.org</code>:</p>
<ul>
<li>The Epinio API would be accessible at <code>https://epinio.myawesomedomain.org</code></li>
<li>The Epinio registry would be accessible at <code>https://epinio-registry.myawesomedomain.org</code></li>
</ul>
<p>and an application named &quot;myapp&quot; would be accessible at: <code>myapp.myawesomedomain.org</code></p>
<p>This requires zero setup for each application. However, sometimes it is needed or desired to add
a custom domain, dedicated to the application. Let's assume that the application
above must also be accessible on <code>https://i-own-this-awesome-domain.org</code>. </p>
<p>Add this domain to your application with the command below:</p>
<pre><code>epinio app update sample --route i-own-this-awesome-domain.org
</code></pre>
<p><strong>Attention</strong>, this removed the original route! To keep it, it has to be explicitly specified:</p>
<pre><code>epinio app update sample --route i-own-this-awesome-domain.org --route myapp.myawesomedomain.org
</code></pre>
<p>The <code>--route</code> parameter can also be passed when the app is first pushed:</p>
<pre><code>epinio app push -n sample -p . --route myapp.myawesomedomain.org
</code></pre>
<p>Epinio will try to create a TLS certificate for any defined route, like it does
for the wildcard system domain ones. Depending on the issuer that is being used,
DNS may have to work before the domain can be used. In other words, the domain must
resolve to the cluster's Ingress IP. Read more about the issuers here: <a href="howtos/./certificate_issuers.html">Certificate Issuers</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="rancher-configuration"><a class="header" href="#rancher-configuration">Rancher configuration</a></h1>
<p>Before installing Epinio, you need a running Rancher instance.</p>
<p>If you do not have such, please use the Rancher's <a href="https://rancher.com/docs">installation guides</a> to set one up.</p>
<p>When I wrote this documentation, I used the following versions:</p>
<ul>
<li>epinio-installer (Helm chart) 0.3.5 </li>
<li>Rancher 2.6.3</li>
</ul>
<h2 id="epinio-prerequisites"><a class="header" href="#epinio-prerequisites">Epinio Prerequisites</a></h2>
<h3 id="kubernetes-cluster"><a class="header" href="#kubernetes-cluster">Kubernetes cluster</a></h3>
<p>The two supported methods are to either deploy a new cluster or to import an existing one into Rancher. The steps to take for either method are detailed in the Rancher documentation (See <code>Cluster Provisioning</code>).</br>
<em>While it is possible (for development) to deploy Epinio on the same node where Rancher is installed, this requires more steps and is not supported by Rancher either.</em></p>
<h3 id="rancher-settings"><a class="header" href="#rancher-settings">Rancher settings</a></h3>
<p>At the time of writing, Epinio is not included in the latest stable Rancher version.</br>
This means that you have to update two settings in your Rancher dashboard.</br>
Go to <code>Global settings</code> &gt; <code>Advanced settings</code>  and update the following settings:</br></p>
<table><thead><tr><th></th><th></th></tr></thead><tbody>
<tr><td><code>ui-dashboard-index</code></td><td><code>https://releases.rancher.com/dashboard/epinio-v0.3.0/index.html</code></td></tr>
<tr><td><code>ui-offline-preferred</code></td><td><code>Remote</code></td></tr>
</tbody></table>
<p><em>Please, keep in mind that <code>ui-dashboard-index</code> value will change over the time until it is not merged in stable Rancher version.</em></p>
<h2 id="install-epinio-3"><a class="header" href="#install-epinio-3">Install Epinio</a></h2>
<p>In the Rancher Dashboard, go to the cluster on where you want to install Epinio.</p>
<p>Add the Epinio Helm repo in <code>Apps &amp; Marketplace</code> &gt;  <code>Repositories</code> &gt; <code>Create</code></p>
<p>Give a name to the repo and use <code>https://epinio.github.io/helm-charts</code> as index URL.</p>
<p>Once done, go to the Chart menu and install the <code>epinio-installer</code> chart.</p>
<p>While you can select the version you want most of the time you should choose the latest one (default). Then click install in the top right corner.</p>
<p>On the next screen, you can select a namespace where the deployment will happen. You also have to set a name for the deployment.</p>
<p>The following screen is where you can configure Epinio according to your needs.</br>
The most important setting here is <code>Access control allow origin</code>. It is mandatory to insert your Rancher dashboard URL into this field.</br>
It basically allows Rancher to talk with the Epinio API.</p>
<p>Once everything is configured, click on the install button and then wait a few minutes for the installation to complete.</br>
After that follow the instructions given by the Helm install command output.</p>
<h2 id="access-the-epinio-menu"><a class="header" href="#access-the-epinio-menu">Access the Epinio menu</a></h2>
<p>Click on the Epinio icon in the main side menu (under <strong>GLOBAL APPS</strong>).</p>
<p>You should see your fresh Epinio instance there.</p>
<p><strong>Attention</strong>. If you use an untrusted certificate, you have to click on the URL, accept the security exception and use the refresh button shown below the page title, i.e. <strong>Epinio instances</strong>.</br>
Now the state should be available and you can access the instance by clicking on its name.*</p>
<p>Once you are in your Epinio instance, you can either deploy or delete things like applications, namespace or services.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="rancher-rke2-configuration"><a class="header" href="#rancher-rke2-configuration">Rancher RKE2 configuration</a></h1>
<h2 id="create-an-rke2-cluster"><a class="header" href="#create-an-rke2-cluster">Create an RKE2 cluster</a></h2>
<p>If you don't have an existing cluster, follow the <a href="https://docs.rke2.io/install/quickstart/">quickstart</a> to create an RKE2 cluster.</p>
<h2 id="rke2-prerequisites"><a class="header" href="#rke2-prerequisites">RKE2 Prerequisites</a></h2>
<ul>
<li>A load-balancer is mandatory for Epinio to work on RKE2. Here <a href="https://metallb.universe.tf">MetalLB</a> was used as load-balancer.
See <a href="howtos/../howtos/provision_external_ip_for_local_kubernetes.html">Provision of External IP for LoadBalancer service type in Kubernetes</a> for more information.</li>
<li>Epinio Rancher RKE2 version v1.21.4+rke2r3 and v1.22.5+rke2r1</li>
<li>Epinio installation passed on a 3 node cluster (1 server, 2 agents) with Longhorn v1.1.1 storage class</li>
</ul>
<h2 id="installation-2"><a class="header" href="#installation-2">Installation</a></h2>
<p>Beside advanced installation options, there are two ways of installing Epinio:</p>
<ol>
<li><a href="howtos/./install_epinio_magicDNS.html">Installation using a MagicDNS Service</a></li>
</ol>
<ul>
<li>For test environments. This should work on nearly any kubernetes distribution. Epinio will try to automatically create a magic DNS domain, e.g. <strong>10.0.0.1.omg.howdoi.website</strong>.</li>
</ul>
<ol start="2">
<li><a href="howtos/./install_epinio_customDNS.html">Installation using a Custom Domain</a></li>
</ol>
<ul>
<li>For test and production environments. You will define a system domain, e.g. <strong>test.example.com</strong>.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="creating-a-k3s-kubernetes-cluster"><a class="header" href="#creating-a-k3s-kubernetes-cluster">Creating a K3s Kubernetes Cluster</a></h1>
<p>Note: this documentation was tested with Epinio v0.1.3 and k3s v1.21.5+k3s2 on openSUSE Leap 15.3.</p>
<h2 id="get-k3s-kubernetes-cluster"><a class="header" href="#get-k3s-kubernetes-cluster">Get K3s Kubernetes Cluster</a></h2>
<h3 id="install-k3s"><a class="header" href="#install-k3s">Install K3s</a></h3>
<p>Follow the <a href="https://k3s.io/">instructions</a> to install k3s on your system.</p>
<h3 id="install-epinio-on-the-cluster"><a class="header" href="#install-epinio-on-the-cluster">Install Epinio on the Cluster</a></h3>
<p>Export the k3s cluster configration first:</p>
<pre><code class="language-bash">export KUBECONFIG=/etc/rancher/k3s/k3s.yaml
</code></pre>
<p>Follow <a href="howtos/./install_epinio_magicDNS.html">Installation using a MagicDNS Service</a> to install Epinio in your test environment.</p>
<p><code>&lt;IP&gt;</code> can be found by running:</p>
<pre><code>$ kubectl get svc -n kube-system traefik -o jsonpath=&quot;{.status.loadBalancer.ingress[0]}&quot;
</code></pre>
<h3 id="troubleshooting-1"><a class="header" href="#troubleshooting-1">Troubleshooting</a></h3>
<h4 id="dns-issues"><a class="header" href="#dns-issues">DNS Issues</a></h4>
<p>In case of trouble with DNS resolution, for example if you have something like this in your logs:</p>
<pre><code>dial tcp: lookup epinio-registry.192.168.1.10.omg.howdoi.website on 10.43.0.10:53: no such host
</code></pre>
<p>You can try to install K3s with one known-to-work DNS server:</p>
<pre><code>curl -sfL https://get.k3s.io | K3S_RESOLV_CONF=/etc/my-good-resolv.conf sh -
</code></pre>
<p>With <code>/etc/my-good-resolv.conf</code> containing:</p>
<pre><code>nameserver 1.1.1.1
</code></pre>
<p>This kind of issue could happen for example when you have multiple DNS servers and some of them are not able to resolve some domain names.</p>
<h4 id="traefik-2"><a class="header" href="#traefik-2">Traefik</a></h4>
<p>In case of trouble with Epinio's Traefik component or Ingress controllers, the <a href="howtos/../explanations/advanced.html#traefik">Traefik</a> section in the
<a href="howtos/../explanations/advanced.html">Advanced Topics</a> document shall be your friend.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="rancher-desktop-configuration"><a class="header" href="#rancher-desktop-configuration">Rancher Desktop configuration</a></h1>
<h2 id="rancher-desktop-prerequisites"><a class="header" href="#rancher-desktop-prerequisites">Rancher Desktop Prerequisites</a></h2>
<ul>
<li>Running on Windows requires Windows Subsystem for Linux (WSL) which is automatically installed by Rancher Desktop.</li>
</ul>
<h3 id="install-rancher-desktop"><a class="header" href="#install-rancher-desktop">Install Rancher Desktop</a></h3>
<p>Install the <a href="https://github.com/rancher-sandbox/rancher-desktop/releases">latest version</a> of Rancher Desktop for your operating system.</p>
<h2 id="setup-kubernetes"><a class="header" href="#setup-kubernetes">Setup Kubernetes</a></h2>
<p>When running Rancher Desktop for the first time wait until the initialization is completed.</p>
<p>Make sure that a supported Kubernetes version is selected under <code>Kubernetes Settings</code> (Epinio has been tested on <strong>v1.21.8</strong>, <strong>v1.22.5</strong> and <strong>v1.23.1</strong>).</p>
<h2 id="install-epinio-4"><a class="header" href="#install-epinio-4">Install epinio</a></h2>
<p>Make sure Rancher Desktop is running.</p>
<p>Rancher Desktop can report Kubernetes as running while some pods are actually not yet ready.
Manual verification is possible by executing the command <code>kubectl get pods -A</code> in a terminal and checking that all pods report either <code>Running</code> or <code>Completed</code> as their status.</p>
<p>For now, Rancher Desktop configures his own loadbalancer (Traefik through K3s) and you have to set Epinio system domain according to the provided IP, for example:</p>
<pre><code>LB_IP=$(kubectl describe svc traefik --namespace traefik \
        | awk '/Ingress/ { print $3 }')

export EPINIO_SYSTEM_DOMAIN=${LB_IP}.omg.howdoi.website
</code></pre>
<p>Previous commands are for Bash, but can be easily adapted for Windows shell.</p>
<p>If you do not want to use the default &quot;magic&quot; DNS please follow <a href="howtos/install_epinio_customDNS.html">Install Epinio with custom DNS</a>.</p>
<p>The Epinio installation is pretty much identical on Linux, MacOS and Windows:</p>
<ol>
<li>
<p>Start a terminal, use <code>cmd</code> or <code>powershell</code> on Windows (latest one is preferred) and your preferred one on Linux/MacOS.</p>
</li>
<li>
<p>Download the <a href="https://github.com/epinio/epinio/releases">latest version</a> of Epinio binary and copy it on your client. It is recommended to add it to the <code>PATH</code> variable (<code>export PATH=&lt;epinio-binary-path&gt;:$PATH</code> on Linux/MacOS with Bash and on Windows please follow <a href="https://medium.com/@kevinmarkvi/how-to-add-executables-to-your-path-in-windows-5ffa4ce61a53">Kevin Berg's article</a>).</p>
</li>
<li>
<p>Use <code>helm</code> to install Epinio by following either the <a href="howtos/install_epinio_auto.html">Method 1</a> (recommended for most cases) or the <a href="howtos/install_epinio_manual.html">Method 2</a> (useful for advanced configuration or if you already have some components in your environment). As <strong>Traefik</strong> is already installed, just bypass this step (by adding option <code>--set skipTraefik=true</code> for Method 1).</p>
</li>
</ol>
<p><strong>NOTE:</strong> <em>there is currently a <a href="https://github.com/rancher-sandbox/rancher-desktop/issues/576">blocking issue</a> on Linux which prevent Epinio to push application!</em></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="creating-a-k3d-kubernetes-cluster"><a class="header" href="#creating-a-k3d-kubernetes-cluster">Creating a K3d Kubernetes Cluster</a></h1>
<h2 id="get-k3d-kubernetes-cluster"><a class="header" href="#get-k3d-kubernetes-cluster">Get K3d Kubernetes Cluster</a></h2>
<h3 id="install-k3d"><a class="header" href="#install-k3d">Install K3d</a></h3>
<p>Follow the <a href="https://k3d.io/">instructions</a> to install k3d on your system.</p>
<h4 id="create-a-k3d-kubernetes-cluster"><a class="header" href="#create-a-k3d-kubernetes-cluster">Create a K3d kubernetes cluster</a></h4>
<pre><code class="language-bash">$ k3d cluster create epinio
</code></pre>
<h4 id="create-a-k3d-kubernetes-cluster-when-it-is-inside-a-vm"><a class="header" href="#create-a-k3d-kubernetes-cluster-when-it-is-inside-a-vm">Create a K3d kubernetes cluster when it is inside a VM</a></h4>
<p>Epinio has to connect to pods inside the cluster. The default installation uses the internal docker IP for this. If docker is running in a VM, e.g. with Docker Desktop for Mac, that IP will not be reachable.</p>
<p>As a workaround the IP of the host can be used instead, together with port-forwardings:</p>
<pre><code class="language-bash">k3d cluster create epinio -p '80:80@server[0]' -p '443:443@server[0]'
</code></pre>
<p>After the command returns, <code>kubectl</code> should already be talking to your new cluster:</p>
<pre><code class="language-bash">$ kubectl get nodes
NAME                  STATUS   ROLES                  AGE   VERSION
k3d-epinio-server-0   Ready    control-plane,master   38s   v1.20.0+k3s2
</code></pre>
<h3 id="install-epinio-on-the-cluster-1"><a class="header" href="#install-epinio-on-the-cluster-1">Install Epinio on the Cluster</a></h3>
<p>Follow <a href="howtos/./install_epinio_magicDNS.html">Installation using a MagicDNS Service</a> to install Epinio in your test environment.</p>
<p><code>&lt;IP&gt;</code> can be found by running:</p>
<pre><code class="language-bash">ifconfig | grep &quot;inet.*broadcast&quot;
</code></pre>
<h3 id="troubleshooting-2"><a class="header" href="#troubleshooting-2">Troubleshooting</a></h3>
<h4 id="kubeconfig"><a class="header" href="#kubeconfig">Kubeconfig</a></h4>
<p>To get the kube config to access the cluster:</p>
<pre><code>k3d kubeconfig get epinio
</code></pre>
<h4 id="traefik-3"><a class="header" href="#traefik-3">Traefik</a></h4>
<p>In case of trouble with Epinio's Traefik component or Ingress controllers, the <a href="howtos/../explanations/advanced.html#traefik">Traefik</a> section in the
<a href="howtos/../explanations/advanced.html">Advanced Topics</a> document shall be your friend.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="creating-a-minikube-kubernetes-cluster"><a class="header" href="#creating-a-minikube-kubernetes-cluster">Creating a Minikube Kubernetes Cluster</a></h1>
<h2 id="get-minikube-kubernetes-cluster"><a class="header" href="#get-minikube-kubernetes-cluster">Get Minikube Kubernetes Cluster</a></h2>
<h3 id="install-minikube"><a class="header" href="#install-minikube">Install Minikube</a></h3>
<p>Follow the <a href="https://minikube.sigs.k8s.io/docs/start/">instructions</a> to install Minikube on your system.</p>
<h3 id="create-a-minikube-kubernetes-cluster"><a class="header" href="#create-a-minikube-kubernetes-cluster">Create a Minikube kubernetes cluster</a></h3>
<p>Epinio installation was tested on Minikube with the following drivers: docker, kvm, virtualbox.</p>
<p>Specify the driver you want to use with the <code>--driver</code> option.</p>
<pre><code class="language-bash">$ minikube start --driver=docker
</code></pre>
<p>Once the cluster is ready, you need to install the metallb addon:</p>
<pre><code class="language-bash">$ minikube addons enable metallb
</code></pre>
<p>Then, you have to configure metallb by giving it an IP address range.</br>
For instance check your minikube IP with <code>minikube ip</code> and choose how many IP addresses you need.</p>
<pre><code class="language-bash">$ minikube ip
192.168.49.2
</code></pre>
<p>As an example, we choose the range <code>192.168.49.100-192.168.49.120</code>.</br>
Configure the addon with those values.</p>
<pre><code class="language-bash">$ minikube addons configure metallb
-- Enter Load Balancer Start IP: 192.168.49.100
-- Enter Load Balancer End IP: 192.168.49.120
     Using image metallb/speaker:v0.9.6
     Using image metallb/controller:v0.9.6
  metallb was successfully configured
</code></pre>
<p>Now you can install Epinio on the Cluster.</p>
<h3 id="install-epinio-on-the-cluster-2"><a class="header" href="#install-epinio-on-the-cluster-2">Install Epinio on the Cluster</a></h3>
<p>Follow <a href="howtos/./install_epinio_magicDNS.html">Installation using a MagicDNS Service</a> to install Epinio in your test environment.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="install-epinio-on-public-clouds"><a class="header" href="#install-epinio-on-public-clouds">Install Epinio on Public Clouds</a></h1>
<p>Epinio can be installed on any Kubernetes distribution, including the Public Cloud ones.</p>
<h2 id="public-clouds-configuration"><a class="header" href="#public-clouds-configuration">Public Clouds configuration</a></h2>
<details>
<summary>Microsoft AKS configuration</summary>
<h3 id="aks-prerequisites"><a class="header" href="#aks-prerequisites">AKS prerequisites</a></h3>
<ul>
<li>Epinio has been tested with AKS version <strong>v1.20.9</strong> and <strong>v1.21.7</strong></li>
<li>To just try out Epinio, e.g. 2 <strong>Standard_D2_v2</strong> nodes are sufficient</li>
</ul>
<h3 id="create-an-aks-cluster"><a class="header" href="#create-an-aks-cluster">Create an AKS cluster</a></h3>
<p>If you do not have an existing cluster, follow the <a href="https://docs.microsoft.com/en-us/azure/aks/kubernetes-walkthrough">quickstart</a> to create an AKS cluster.</p>
</details>
<details>
<summary>Amazon EKS configuration</summary>
<h3 id="eks-prerequisites"><a class="header" href="#eks-prerequisites">EKS prerequisites</a></h3>
<ul>
<li>Epinio has been tested with EKS version <strong>v1.20.7</strong> and <strong>v1.21.2</strong></li>
<li>To just try out Epinio, e.g. 2 <strong>t3a.large</strong> nodes are sufficient</li>
</ul>
<h3 id="create-an-eks-cluster"><a class="header" href="#create-an-eks-cluster">Create an EKS cluster</a></h3>
<p>If you do not have an existing cluster, follow the <a href="https://docs.aws.amazon.com/eks/latest/userguide/getting-started.html">quickstart</a> to create an EKS cluster.</p>
</details>
<details>
<summary>Google GKE configuration</summary>
<h3 id="gke-prerequisites"><a class="header" href="#gke-prerequisites">GKE prerequisites</a></h3>
<ul>
<li>Epinio has been tested with GKE version <strong>v1.20.7</strong>, <strong>v1.21.2</strong> and <strong>v1.21.5</strong></li>
<li>To just try out Epinio, e.g. 1 <strong>n2-standard-4</strong> node is sufficient</li>
</ul>
<h3 id="create-a-gke-cluster"><a class="header" href="#create-a-gke-cluster">Create a GKE cluster</a></h3>
<p>If you do not have an existing cluster, follow the <a href="https://cloud.google.com/kubernetes-engine/docs/quickstart">quickstart</a> to create a GKE cluster.</p>
</details>
<h2 id="installation-on-public-clouds-using-custom-domain"><a class="header" href="#installation-on-public-clouds-using-custom-domain">Installation on Public Clouds using Custom Domain</a></h2>
<p>For test and production environments, you will define a system domain, e.g. <strong>test.example.com</strong> and you have to follow <a href="howtos/./install_epinio_customDNS.html">Installation using a Custom Domain</a> documentation.</p>
<h2 id="troubleshooting-3"><a class="header" href="#troubleshooting-3">Troubleshooting</a></h2>
<p>In case of trouble with Epinio's Traefik component or Ingress controllers, the <a href="howtos/../explanations/advanced.html#traefik">Traefik</a> section in the <a href="howtos/../explanations/advanced.html">Advanced Topics</a> document shall be your friend.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="installing-wordpress-with-epinio"><a class="header" href="#installing-wordpress-with-epinio">Installing Wordpress with Epinio</a></h1>
<h2 id="create-a-directory-for-your-application"><a class="header" href="#create-a-directory-for-your-application">Create a directory for your application:</a></h2>
<pre><code class="language-bash">mkdir wordpress
cd wordpress
</code></pre>
<h2 id="get-the-code"><a class="header" href="#get-the-code">Get the code:</a></h2>
<p>https://wordpress.org/download/#download-install</p>
<pre><code class="language-bash">wget https://wordpress.org/latest.tar.gz
tar xvf latest.tar.gz
mv wordpress htdocs
rm -rf latest.tar.gz
</code></pre>
<h2 id="create-a-buildpackyml-for-your-application"><a class="header" href="#create-a-buildpackyml-for-your-application">Create a buildpack.yml for your application</a></h2>
<pre><code class="language-bash">cat &lt;&lt; EOF &gt; buildpack.yml
---
php:
  version: 7.3.x
  script: index.php
  webserver: nginx
  webdirectory: htdocs
EOF
</code></pre>
<h2 id="enable-needed-php-extensions"><a class="header" href="#enable-needed-php-extensions">Enable needed php extensions</a></h2>
<p>The PHP buildpack supports additional ini files for PHP through
<a href="https://paketo.io/docs/buildpacks/language-family-buildpacks/php/#php_ini_scan_dir">the PHP_INI_SCAN_DIR mechanism</a>.</p>
<p>We need zlib and mysqli extensions enabled:</p>
<pre><code class="language-bash">mkdir .php.ini.d
cat &lt;&lt; EOF &gt; .php.ini.d/extensions.ini
extension=zlib
extension=mysqli
EOF
</code></pre>
<h2 id="deploy"><a class="header" href="#deploy">Deploy</a></h2>
<pre><code>epinio push --name wordpress
</code></pre>
<h2 id="additional-steps"><a class="header" href="#additional-steps">Additional steps</a></h2>
<p>Wordpress needs a database to work. After visiting the route of your deployed
application you will have to set the connection details to the database.</p>
<p>You can install a MySQL database on your cluster or use an external one. One
option is using a helm chart like <a href="https://bitnami.com/stack/mysql/helm">this one</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="reference-documentation"><a class="header" href="#reference-documentation">Reference documentation</a></h1>
<p>For example all CLI commands and their arguments.</p>
<ul>
<li><a href="references/index.html">Command requirements</a></li>
<li><a href="references/commands.html">Command reference</a></li>
<li><a href="references/supported-apps.html">Supported Applications</a></li>
<li><a href="references/manifests.html">Application Manifests</a></li>
<li><a href="references/configurations.html">Configurations</a></li>
<li><a href="references/api.html">API</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="kubernetes-cluster-requirements"><a class="header" href="#kubernetes-cluster-requirements">Kubernetes Cluster Requirements</a></h2>
<p>For the Epinio server, and related deployments we recommend to consider the following resources:</p>
<ul>
<li>x86_64, ARM32, or ARM64 architecture</li>
<li>Supported operating systems
<ul>
<li>Linux
<ul>
<li>K3s, K3d</li>
<li>minikube</li>
</ul>
</li>
<li>Windows
<ul>
<li><a href="references/install_epinio_on_rancher_desktop.html">Rancher Desktop</a></li>
</ul>
</li>
<li>MacOS</li>
</ul>
</li>
<li>Kubernetes versions 1.20 .. 1.23</li>
<li>2-4 VCPUs</li>
<li>8GB RAM (system memory + 4GB)</li>
<li>10GB Disk space (system disk + 5GB)</li>
</ul>
<p>In addition, extensive requirements for your workload (apps) would add to that.</p>
<h3 id="storage-class"><a class="header" href="#storage-class">Storage Class</a></h3>
<p>A default storage class (with annotation <code>storageclass.kubernetes.io/is-default-class: &quot;true&quot;</code>) is needed.</p>
<h3 id="load-balancer"><a class="header" href="#load-balancer">Load Balancer</a></h3>
<p>Epinio (Traefik) requires a load-balancer. Depending on your target infrastructure, you can use embedded ones (like on Public Cloud, K3d, aso.) or configure your own.
Also see <a href="references/../howtos/provision_external_ip_for_local_kubernetes.html">Provision of External IP for LoadBalancer service type in Kubernetes</a> for more information.</p>
<h3 id="troubleshooting-4"><a class="header" href="#troubleshooting-4">Troubleshooting</a></h3>
<p>While Kubernetes <strong>v1.22</strong> is supported there is an issue when the container runtime is <code>containerd &gt; 1.5.6</code>: the <a href="https://github.com/buildpacks/pack">pack cli</a> is placing too much information into the
image layers (<a href="https://github.com/paketo-buildpacks/full-builder/issues/415">relevant issue</a>).</p>
<p>This was fixed in version <strong>v1.5.8</strong> of <code>containerd</code>, and the updated runtime is available from Kubernetes <strong>v1.22.4</strong> onwward, so if you have a lower version please update.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="epinio-on-windows"><a class="header" href="#epinio-on-windows">Epinio On Windows</a></h1>
<p>Epinio relies on a number of command line tools which are normally
available on any kind of Unix platform, yet rarely on Windows.</p>
<p>The general set contains</p>
<ul>
<li>sh</li>
<li>sed</li>
<li>git</li>
</ul>
<p>while the specific set consists of</p>
<ul>
<li>kubectl</li>
<li>helm</li>
</ul>
<p>We are currently recommending to install the
<a href="https://gitforwindows.org/">Git For Windows</a> distribution as it
provides everything needed from the general set, and more.</p>
<p>For <code>helm</code>, <code>kubectl</code>, and <code>epinio</code> itself the necessary binaries can
be retrieved from the relevant release pages or per their
instructions:</p>
<ul>
<li><a href="https://github.com/epinio/epinio/releases">Epinio Releases</a></li>
<li><a href="https://github.com/helm/helm/releases">Helm Releases</a></li>
<li><a href="https://kubernetes.io/docs/tasks/tools/install-kubectl-windows/">Kubectl Instructions</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><table><thead><tr><th></th><th>Server</th><th>Admin</th><th>User</th><th></th></tr></thead><tbody>
<tr><td><em>component</em></td><td><strong>API</strong></td><td><strong>Installation</strong></td><td><strong>CLI</strong></td><td></td></tr>
<tr><td><em>needs</em></td><td><em>(kubeconfig)</em></td><td><em>kubeconfig</em></td><td><em>kubeconfig</em></td><td><em>settings file</em></td></tr>
<tr><td></td><td></td><td></td><td></td><td></td></tr>
<tr><td><em>commands</em></td><td>server</td><td>install</td><td>settings update</td><td>info</td></tr>
<tr><td></td><td></td><td>install-traefik</td><td></td><td>namespace</td></tr>
<tr><td></td><td></td><td>install-cert-manager</td><td></td><td>target</td></tr>
<tr><td></td><td></td><td>enable</td><td></td><td>push</td></tr>
<tr><td></td><td></td><td>disable</td><td></td><td>settings show|colors</td></tr>
</tbody></table>
<div style="break-before: page; page-break-before: always;"></div><h1 id="command-reference"><a class="header" href="#command-reference">Command reference</a></h1>
<ul>
<li>
<p><a href="references/cli/epinio.html">epinio</a></p>
<ul>
<li>
<p><a href="references/cli/epinio_app.html">epinio app</a></p>
<ul>
<li>
<p><a href="references/cli/epinio_app_create.html">epinio app create</a></p>
</li>
<li>
<p><a href="references/cli/epinio_app_delete.html">epinio app delete</a></p>
</li>
<li>
<p><a href="references/cli/epinio_app_env.html">epinio app env</a></p>
<ul>
<li><a href="references/cli/epinio_app_env_list.html">epinio app env list</a></li>
<li><a href="references/cli/epinio_app_env_set.html">epinio app env set</a></li>
<li><a href="references/cli/epinio_app_env_show.html">epinio app env show</a></li>
<li><a href="references/cli/epinio_app_env_unset.html">epinio app env unset</a></li>
</ul>
</li>
<li>
<p><a href="references/cli/epinio_app_list.html">epinio app list</a></p>
</li>
<li>
<p><a href="references/cli/epinio_app_logs.html">epinio app logs</a></p>
</li>
<li>
<p><a href="references/cli/epinio_app_manifest.html">epinio app manifest</a></p>
</li>
<li>
<p><a href="references/cli/epinio_app_show.html">epinio app show</a></p>
</li>
<li>
<p><a href="references/cli/epinio_app_update.html">epinio app update</a></p>
</li>
</ul>
</li>
<li>
<p><a href="references/cli/epinio_settings.html">epinio settings</a></p>
<ul>
<li><a href="references/cli/epinio_settings_colors.html">epinio settings colors</a></li>
<li><a href="references/cli/epinio_settings_show.html">epinio settings show</a></li>
<li><a href="references/cli/epinio_settings_update.html">epinio settings update</a></li>
</ul>
</li>
<li>
<p><a href="references/cli/epinio_info.html">epinio info</a></p>
</li>
<li>
<p><a href="references/cli/epinio_install-cert-manager.html">epinio install-cert-manager</a></p>
</li>
<li>
<p><a href="references/cli/epinio_install-ingress.html">epinio install-ingress</a></p>
</li>
<li>
<p><a href="references/cli/epinio_install.html">epinio install</a></p>
</li>
<li>
<p><a href="references/cli/epinio_namespace.html">epinio namespace</a></p>
<ul>
<li><a href="references/cli/epinio_namespace_create.html">epinio namespace create</a></li>
<li><a href="references/cli/epinio_namespace_delete.html">epinio namespace delete</a></li>
<li><a href="references/cli/epinio_namespace_list.html">epinio namespace list</a></li>
<li><a href="references/cli/epinio_namespace_show.html">epinio namespace show</a></li>
</ul>
</li>
<li>
<p><a href="references/cli/epinio_push.html">epinio push</a></p>
</li>
<li>
<p><a href="references/cli/epinio_server.html">epinio server</a></p>
</li>
<li>
<p><a href="references/cli/epinio_configuration.html">epinio configuration</a></p>
<ul>
<li><a href="references/cli/epinio_configuration_bind.html">epinio configuration bind</a></li>
<li><a href="references/cli/epinio_configuration_create.html">epinio configuration create</a></li>
<li><a href="references/cli/epinio_configuration_delete.html">epinio configuration delete</a></li>
<li><a href="references/cli/epinio_configuration_list.html">epinio configuration list</a></li>
<li><a href="references/cli/epinio_configuration_show.html">epinio configuration show</a></li>
<li><a href="references/cli/epinio_configuration_unbind.html">epinio configuration unbind</a></li>
</ul>
</li>
<li>
<p><a href="references/cli/epinio_target.html">epinio target</a></p>
</li>
<li>
<p><a href="references/cli/epinio_uninstall.html">epinio uninstall</a></p>
</li>
<li>
<p><a href="references/cli/epinio_version.html">epinio version</a></p>
</li>
</ul>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="epinio-1"><a class="header" href="#epinio-1">epinio</a></h2>
<p>Epinio cli</p>
<h3 id="synopsis"><a class="header" href="#synopsis">Synopsis</a></h3>
<p>epinio cli is the official command line interface for Epinio PaaS </p>
<h3 id="options"><a class="header" href="#options">Options</a></h3>
<pre><code>  -h, --help                     help for epinio
  -c, --kubeconfig string        (KUBECONFIG) path to a kubeconfig, not required in-cluster
      --no-colors                Suppress colorized output
      --settings-file string     (EPINIO_SETTINGS) set path of settings file (default &quot;~/.config/epinio/settings.yaml&quot;)
      --skip-ssl-verification    (SKIP_SSL_VERIFICATION) Skip the verification of TLS certificates
      --timeout-multiplier int   (EPINIO_TIMEOUT_MULTIPLIER) Multiply timeouts by this factor (default 1)
      --trace-level int          (TRACE_LEVEL) Only print trace messages at or above this level (0 to 255, default 0, print nothing)
      --verbosity int            (VERBOSITY) Only print progress messages at or above this level (0 or 1, default 0)
</code></pre>
<h3 id="see-also"><a class="header" href="#see-also">SEE ALSO</a></h3>
<ul>
<li><a href="references/cli/epinio_app.html">epinio app</a>	 - Epinio application features</li>
<li><a href="references/cli/epinio_completion.html">epinio completion</a>	 - Generate completion script for a shell</li>
<li><a href="references/cli/epinio_configuration.html">epinio configuration</a>	 - Epinio configuration features</li>
<li><a href="references/cli/epinio_info.html">epinio info</a>	 - Shows information about the Epinio environment</li>
<li><a href="references/cli/epinio_namespace.html">epinio namespace</a>	 - Epinio-controlled namespaces</li>
<li><a href="references/cli/epinio_push.html">epinio push</a>	 - Push an application declared in the specified manifest</li>
<li><a href="references/cli/epinio_server.html">epinio server</a>	 - Starts the Epinio server.</li>
<li><a href="references/cli/epinio_settings.html">epinio settings</a>	 - Epinio settings management</li>
<li><a href="references/cli/epinio_target.html">epinio target</a>	 - Targets an epinio-controlled namespace.</li>
<li><a href="references/cli/epinio_version.html">epinio version</a>	 - Print the version number</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="epinio-app"><a class="header" href="#epinio-app">epinio app</a></h2>
<p>Epinio application features</p>
<h3 id="synopsis-1"><a class="header" href="#synopsis-1">Synopsis</a></h3>
<p>Manage epinio application</p>
<h3 id="options-1"><a class="header" href="#options-1">Options</a></h3>
<pre><code>  -h, --help   help for app
</code></pre>
<h3 id="options-inherited-from-parent-commands"><a class="header" href="#options-inherited-from-parent-commands">Options inherited from parent commands</a></h3>
<pre><code>  -c, --kubeconfig string        (KUBECONFIG) path to a kubeconfig, not required in-cluster
      --no-colors                Suppress colorized output
      --settings-file string     (EPINIO_SETTINGS) set path of settings file (default &quot;~/.config/epinio/settings.yaml&quot;)
      --skip-ssl-verification    (SKIP_SSL_VERIFICATION) Skip the verification of TLS certificates
      --timeout-multiplier int   (EPINIO_TIMEOUT_MULTIPLIER) Multiply timeouts by this factor (default 1)
      --trace-level int          (TRACE_LEVEL) Only print trace messages at or above this level (0 to 255, default 0, print nothing)
      --verbosity int            (VERBOSITY) Only print progress messages at or above this level (0 or 1, default 0)
</code></pre>
<h3 id="see-also-1"><a class="header" href="#see-also-1">SEE ALSO</a></h3>
<ul>
<li><a href="references/cli/epinio.html">epinio</a>	 - Epinio cli</li>
<li><a href="references/cli/epinio_app_create.html">epinio app create</a>	 - Create just the app, without creating a workload</li>
<li><a href="references/cli/epinio_app_delete.html">epinio app delete</a>	 - Deletes an application</li>
<li><a href="references/cli/epinio_app_env.html">epinio app env</a>	 - Epinio application configuration</li>
<li><a href="references/cli/epinio_app_exec.html">epinio app exec</a>	 - creates a shell to the application</li>
<li><a href="references/cli/epinio_app_list.html">epinio app list</a>	 - Lists applications</li>
<li><a href="references/cli/epinio_app_logs.html">epinio app logs</a>	 - Streams the logs of the application</li>
<li><a href="references/cli/epinio_app_manifest.html">epinio app manifest</a>	 - Save state of the named application as a manifest</li>
<li><a href="references/cli/epinio_app_port-forward.html">epinio app port-forward</a>	 - forward one or more local ports to a pod</li>
<li><a href="references/cli/epinio_app_push.html">epinio app push</a>	 - Push an application declared in the specified manifest</li>
<li><a href="references/cli/epinio_app_restart.html">epinio app restart</a>	 - Restart the application</li>
<li><a href="references/cli/epinio_app_show.html">epinio app show</a>	 - Describe the named application</li>
<li><a href="references/cli/epinio_app_update.html">epinio app update</a>	 - Update the named application</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="epinio-app-create"><a class="header" href="#epinio-app-create">epinio app create</a></h2>
<p>Create just the app, without creating a workload</p>
<pre><code>epinio app create NAME [flags]
</code></pre>
<h3 id="options-2"><a class="header" href="#options-2">Options</a></h3>
<pre><code>  -b, --bind strings      configurations to bind immediately
  -e, --env strings       environment variables to be used
  -h, --help              help for create
  -i, --instances int32   The number of instances the application should have (default 1)
  -r, --route strings     Custom route to use for the application (a subdomain of the default domain will be used if this is not set). Can be set multiple times to use multiple routes with the same application.
</code></pre>
<h3 id="options-inherited-from-parent-commands-1"><a class="header" href="#options-inherited-from-parent-commands-1">Options inherited from parent commands</a></h3>
<pre><code>  -c, --kubeconfig string        (KUBECONFIG) path to a kubeconfig, not required in-cluster
      --no-colors                Suppress colorized output
      --settings-file string     (EPINIO_SETTINGS) set path of settings file (default &quot;~/.config/epinio/settings.yaml&quot;)
      --skip-ssl-verification    (SKIP_SSL_VERIFICATION) Skip the verification of TLS certificates
      --timeout-multiplier int   (EPINIO_TIMEOUT_MULTIPLIER) Multiply timeouts by this factor (default 1)
      --trace-level int          (TRACE_LEVEL) Only print trace messages at or above this level (0 to 255, default 0, print nothing)
      --verbosity int            (VERBOSITY) Only print progress messages at or above this level (0 or 1, default 0)
</code></pre>
<h3 id="see-also-2"><a class="header" href="#see-also-2">SEE ALSO</a></h3>
<ul>
<li><a href="references/cli/epinio_app.html">epinio app</a>	 - Epinio application features</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="epinio-app-delete"><a class="header" href="#epinio-app-delete">epinio app delete</a></h2>
<p>Deletes an application</p>
<pre><code>epinio app delete NAME [flags]
</code></pre>
<h3 id="options-3"><a class="header" href="#options-3">Options</a></h3>
<pre><code>  -h, --help   help for delete
</code></pre>
<h3 id="options-inherited-from-parent-commands-2"><a class="header" href="#options-inherited-from-parent-commands-2">Options inherited from parent commands</a></h3>
<pre><code>  -c, --kubeconfig string        (KUBECONFIG) path to a kubeconfig, not required in-cluster
      --no-colors                Suppress colorized output
      --settings-file string     (EPINIO_SETTINGS) set path of settings file (default &quot;~/.config/epinio/settings.yaml&quot;)
      --skip-ssl-verification    (SKIP_SSL_VERIFICATION) Skip the verification of TLS certificates
      --timeout-multiplier int   (EPINIO_TIMEOUT_MULTIPLIER) Multiply timeouts by this factor (default 1)
      --trace-level int          (TRACE_LEVEL) Only print trace messages at or above this level (0 to 255, default 0, print nothing)
      --verbosity int            (VERBOSITY) Only print progress messages at or above this level (0 or 1, default 0)
</code></pre>
<h3 id="see-also-3"><a class="header" href="#see-also-3">SEE ALSO</a></h3>
<ul>
<li><a href="references/cli/epinio_app.html">epinio app</a>	 - Epinio application features</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="epinio-app-env"><a class="header" href="#epinio-app-env">epinio app env</a></h2>
<p>Epinio application configuration</p>
<h3 id="synopsis-2"><a class="header" href="#synopsis-2">Synopsis</a></h3>
<p>Manage epinio application environment variables</p>
<h3 id="options-4"><a class="header" href="#options-4">Options</a></h3>
<pre><code>  -h, --help   help for env
</code></pre>
<h3 id="options-inherited-from-parent-commands-3"><a class="header" href="#options-inherited-from-parent-commands-3">Options inherited from parent commands</a></h3>
<pre><code>  -c, --kubeconfig string        (KUBECONFIG) path to a kubeconfig, not required in-cluster
      --no-colors                Suppress colorized output
      --settings-file string     (EPINIO_SETTINGS) set path of settings file (default &quot;~/.config/epinio/settings.yaml&quot;)
      --skip-ssl-verification    (SKIP_SSL_VERIFICATION) Skip the verification of TLS certificates
      --timeout-multiplier int   (EPINIO_TIMEOUT_MULTIPLIER) Multiply timeouts by this factor (default 1)
      --trace-level int          (TRACE_LEVEL) Only print trace messages at or above this level (0 to 255, default 0, print nothing)
      --verbosity int            (VERBOSITY) Only print progress messages at or above this level (0 or 1, default 0)
</code></pre>
<h3 id="see-also-4"><a class="header" href="#see-also-4">SEE ALSO</a></h3>
<ul>
<li><a href="references/cli/epinio_app.html">epinio app</a>	 - Epinio application features</li>
<li><a href="references/cli/epinio_app_env_list.html">epinio app env list</a>	 - Lists application environment</li>
<li><a href="references/cli/epinio_app_env_set.html">epinio app env set</a>	 - Extend application environment</li>
<li><a href="references/cli/epinio_app_env_show.html">epinio app env show</a>	 - Describe application's environment variable</li>
<li><a href="references/cli/epinio_app_env_unset.html">epinio app env unset</a>	 - Shrink application environment</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="epinio-app-env-list"><a class="header" href="#epinio-app-env-list">epinio app env list</a></h2>
<p>Lists application environment</p>
<h3 id="synopsis-3"><a class="header" href="#synopsis-3">Synopsis</a></h3>
<p>Lists environment variables of named application</p>
<pre><code>epinio app env list APPNAME [flags]
</code></pre>
<h3 id="options-5"><a class="header" href="#options-5">Options</a></h3>
<pre><code>  -h, --help   help for list
</code></pre>
<h3 id="options-inherited-from-parent-commands-4"><a class="header" href="#options-inherited-from-parent-commands-4">Options inherited from parent commands</a></h3>
<pre><code>  -c, --kubeconfig string        (KUBECONFIG) path to a kubeconfig, not required in-cluster
      --no-colors                Suppress colorized output
      --settings-file string     (EPINIO_SETTINGS) set path of settings file (default &quot;~/.config/epinio/settings.yaml&quot;)
      --skip-ssl-verification    (SKIP_SSL_VERIFICATION) Skip the verification of TLS certificates
      --timeout-multiplier int   (EPINIO_TIMEOUT_MULTIPLIER) Multiply timeouts by this factor (default 1)
      --trace-level int          (TRACE_LEVEL) Only print trace messages at or above this level (0 to 255, default 0, print nothing)
      --verbosity int            (VERBOSITY) Only print progress messages at or above this level (0 or 1, default 0)
</code></pre>
<h3 id="see-also-5"><a class="header" href="#see-also-5">SEE ALSO</a></h3>
<ul>
<li><a href="references/cli/epinio_app_env.html">epinio app env</a>	 - Epinio application configuration</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="epinio-app-env-set"><a class="header" href="#epinio-app-env-set">epinio app env set</a></h2>
<p>Extend application environment</p>
<h3 id="synopsis-4"><a class="header" href="#synopsis-4">Synopsis</a></h3>
<p>Add or change environment variable of named application</p>
<pre><code>epinio app env set APPNAME NAME VALUE [flags]
</code></pre>
<h3 id="options-6"><a class="header" href="#options-6">Options</a></h3>
<pre><code>  -h, --help   help for set
</code></pre>
<h3 id="options-inherited-from-parent-commands-5"><a class="header" href="#options-inherited-from-parent-commands-5">Options inherited from parent commands</a></h3>
<pre><code>  -c, --kubeconfig string        (KUBECONFIG) path to a kubeconfig, not required in-cluster
      --no-colors                Suppress colorized output
      --settings-file string     (EPINIO_SETTINGS) set path of settings file (default &quot;~/.config/epinio/settings.yaml&quot;)
      --skip-ssl-verification    (SKIP_SSL_VERIFICATION) Skip the verification of TLS certificates
      --timeout-multiplier int   (EPINIO_TIMEOUT_MULTIPLIER) Multiply timeouts by this factor (default 1)
      --trace-level int          (TRACE_LEVEL) Only print trace messages at or above this level (0 to 255, default 0, print nothing)
      --verbosity int            (VERBOSITY) Only print progress messages at or above this level (0 or 1, default 0)
</code></pre>
<h3 id="see-also-6"><a class="header" href="#see-also-6">SEE ALSO</a></h3>
<ul>
<li><a href="references/cli/epinio_app_env.html">epinio app env</a>	 - Epinio application configuration</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="epinio-app-env-show"><a class="header" href="#epinio-app-env-show">epinio app env show</a></h2>
<p>Describe application's environment variable</p>
<pre><code>epinio app env show APPNAME NAME [flags]
</code></pre>
<h3 id="options-7"><a class="header" href="#options-7">Options</a></h3>
<pre><code>  -h, --help   help for show
</code></pre>
<h3 id="options-inherited-from-parent-commands-6"><a class="header" href="#options-inherited-from-parent-commands-6">Options inherited from parent commands</a></h3>
<pre><code>  -c, --kubeconfig string        (KUBECONFIG) path to a kubeconfig, not required in-cluster
      --no-colors                Suppress colorized output
      --settings-file string     (EPINIO_SETTINGS) set path of settings file (default &quot;~/.config/epinio/settings.yaml&quot;)
      --skip-ssl-verification    (SKIP_SSL_VERIFICATION) Skip the verification of TLS certificates
      --timeout-multiplier int   (EPINIO_TIMEOUT_MULTIPLIER) Multiply timeouts by this factor (default 1)
      --trace-level int          (TRACE_LEVEL) Only print trace messages at or above this level (0 to 255, default 0, print nothing)
      --verbosity int            (VERBOSITY) Only print progress messages at or above this level (0 or 1, default 0)
</code></pre>
<h3 id="see-also-7"><a class="header" href="#see-also-7">SEE ALSO</a></h3>
<ul>
<li><a href="references/cli/epinio_app_env.html">epinio app env</a>	 - Epinio application configuration</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="epinio-app-env-unset"><a class="header" href="#epinio-app-env-unset">epinio app env unset</a></h2>
<p>Shrink application environment</p>
<h3 id="synopsis-5"><a class="header" href="#synopsis-5">Synopsis</a></h3>
<p>Remove environment variable from named application</p>
<pre><code>epinio app env unset APPNAME NAME [flags]
</code></pre>
<h3 id="options-8"><a class="header" href="#options-8">Options</a></h3>
<pre><code>  -h, --help   help for unset
</code></pre>
<h3 id="options-inherited-from-parent-commands-7"><a class="header" href="#options-inherited-from-parent-commands-7">Options inherited from parent commands</a></h3>
<pre><code>  -c, --kubeconfig string        (KUBECONFIG) path to a kubeconfig, not required in-cluster
      --no-colors                Suppress colorized output
      --settings-file string     (EPINIO_SETTINGS) set path of settings file (default &quot;~/.config/epinio/settings.yaml&quot;)
      --skip-ssl-verification    (SKIP_SSL_VERIFICATION) Skip the verification of TLS certificates
      --timeout-multiplier int   (EPINIO_TIMEOUT_MULTIPLIER) Multiply timeouts by this factor (default 1)
      --trace-level int          (TRACE_LEVEL) Only print trace messages at or above this level (0 to 255, default 0, print nothing)
      --verbosity int            (VERBOSITY) Only print progress messages at or above this level (0 or 1, default 0)
</code></pre>
<h3 id="see-also-8"><a class="header" href="#see-also-8">SEE ALSO</a></h3>
<ul>
<li><a href="references/cli/epinio_app_env.html">epinio app env</a>	 - Epinio application configuration</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="epinio-app-list"><a class="header" href="#epinio-app-list">epinio app list</a></h2>
<p>Lists applications</p>
<h3 id="synopsis-6"><a class="header" href="#synopsis-6">Synopsis</a></h3>
<p>Lists applications in the targeted namespace, or all</p>
<pre><code>epinio app list [--all] [flags]
</code></pre>
<h3 id="options-9"><a class="header" href="#options-9">Options</a></h3>
<pre><code>      --all    list all applications
  -h, --help   help for list
</code></pre>
<h3 id="options-inherited-from-parent-commands-8"><a class="header" href="#options-inherited-from-parent-commands-8">Options inherited from parent commands</a></h3>
<pre><code>  -c, --kubeconfig string        (KUBECONFIG) path to a kubeconfig, not required in-cluster
      --no-colors                Suppress colorized output
      --settings-file string     (EPINIO_SETTINGS) set path of settings file (default &quot;~/.config/epinio/settings.yaml&quot;)
      --skip-ssl-verification    (SKIP_SSL_VERIFICATION) Skip the verification of TLS certificates
      --timeout-multiplier int   (EPINIO_TIMEOUT_MULTIPLIER) Multiply timeouts by this factor (default 1)
      --trace-level int          (TRACE_LEVEL) Only print trace messages at or above this level (0 to 255, default 0, print nothing)
      --verbosity int            (VERBOSITY) Only print progress messages at or above this level (0 or 1, default 0)
</code></pre>
<h3 id="see-also-9"><a class="header" href="#see-also-9">SEE ALSO</a></h3>
<ul>
<li><a href="references/cli/epinio_app.html">epinio app</a>	 - Epinio application features</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="epinio-app-logs"><a class="header" href="#epinio-app-logs">epinio app logs</a></h2>
<p>Streams the logs of the application</p>
<pre><code>epinio app logs NAME [flags]
</code></pre>
<h3 id="options-10"><a class="header" href="#options-10">Options</a></h3>
<pre><code>      --follow    follow the logs of the application
  -h, --help      help for logs
      --staging   show the staging logs of the application
</code></pre>
<h3 id="options-inherited-from-parent-commands-9"><a class="header" href="#options-inherited-from-parent-commands-9">Options inherited from parent commands</a></h3>
<pre><code>  -c, --kubeconfig string        (KUBECONFIG) path to a kubeconfig, not required in-cluster
      --no-colors                Suppress colorized output
      --settings-file string     (EPINIO_SETTINGS) set path of settings file (default &quot;~/.config/epinio/settings.yaml&quot;)
      --skip-ssl-verification    (SKIP_SSL_VERIFICATION) Skip the verification of TLS certificates
      --timeout-multiplier int   (EPINIO_TIMEOUT_MULTIPLIER) Multiply timeouts by this factor (default 1)
      --trace-level int          (TRACE_LEVEL) Only print trace messages at or above this level (0 to 255, default 0, print nothing)
      --verbosity int            (VERBOSITY) Only print progress messages at or above this level (0 or 1, default 0)
</code></pre>
<h3 id="see-also-10"><a class="header" href="#see-also-10">SEE ALSO</a></h3>
<ul>
<li><a href="references/cli/epinio_app.html">epinio app</a>	 - Epinio application features</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="epinio-app-manifest"><a class="header" href="#epinio-app-manifest">epinio app manifest</a></h2>
<p>Save state of the named application as a manifest</p>
<pre><code>epinio app manifest NAME MANIFESTPATH [flags]
</code></pre>
<h3 id="options-11"><a class="header" href="#options-11">Options</a></h3>
<pre><code>  -h, --help   help for manifest
</code></pre>
<h3 id="options-inherited-from-parent-commands-10"><a class="header" href="#options-inherited-from-parent-commands-10">Options inherited from parent commands</a></h3>
<pre><code>  -c, --kubeconfig string        (KUBECONFIG) path to a kubeconfig, not required in-cluster
      --no-colors                Suppress colorized output
      --settings-file string     (EPINIO_SETTINGS) set path of settings file (default &quot;~/.config/epinio/settings.yaml&quot;)
      --skip-ssl-verification    (SKIP_SSL_VERIFICATION) Skip the verification of TLS certificates
      --timeout-multiplier int   (EPINIO_TIMEOUT_MULTIPLIER) Multiply timeouts by this factor (default 1)
      --trace-level int          (TRACE_LEVEL) Only print trace messages at or above this level (0 to 255, default 0, print nothing)
      --verbosity int            (VERBOSITY) Only print progress messages at or above this level (0 or 1, default 0)
</code></pre>
<h3 id="see-also-11"><a class="header" href="#see-also-11">SEE ALSO</a></h3>
<ul>
<li><a href="references/cli/epinio_app.html">epinio app</a>	 - Epinio application features</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="epinio-app-show"><a class="header" href="#epinio-app-show">epinio app show</a></h2>
<p>Describe the named application</p>
<pre><code>epinio app show NAME [flags]
</code></pre>
<h3 id="options-12"><a class="header" href="#options-12">Options</a></h3>
<pre><code>  -h, --help   help for show
</code></pre>
<h3 id="options-inherited-from-parent-commands-11"><a class="header" href="#options-inherited-from-parent-commands-11">Options inherited from parent commands</a></h3>
<pre><code>  -c, --kubeconfig string        (KUBECONFIG) path to a kubeconfig, not required in-cluster
      --no-colors                Suppress colorized output
      --settings-file string     (EPINIO_SETTINGS) set path of settings file (default &quot;~/.config/epinio/settings.yaml&quot;)
      --skip-ssl-verification    (SKIP_SSL_VERIFICATION) Skip the verification of TLS certificates
      --timeout-multiplier int   (EPINIO_TIMEOUT_MULTIPLIER) Multiply timeouts by this factor (default 1)
      --trace-level int          (TRACE_LEVEL) Only print trace messages at or above this level (0 to 255, default 0, print nothing)
      --verbosity int            (VERBOSITY) Only print progress messages at or above this level (0 or 1, default 0)
</code></pre>
<h3 id="see-also-12"><a class="header" href="#see-also-12">SEE ALSO</a></h3>
<ul>
<li><a href="references/cli/epinio_app.html">epinio app</a>	 - Epinio application features</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="epinio-app-update"><a class="header" href="#epinio-app-update">epinio app update</a></h2>
<p>Update the named application</p>
<h3 id="synopsis-7"><a class="header" href="#synopsis-7">Synopsis</a></h3>
<p>Update the running application's attributes (e.g. instances)</p>
<pre><code>epinio app update NAME [flags]
</code></pre>
<h3 id="options-13"><a class="header" href="#options-13">Options</a></h3>
<pre><code>  -b, --bind strings      configurations to bind immediately
  -e, --env strings       environment variables to be used
  -h, --help              help for update
  -i, --instances int32   The number of instances the application should have (default 1)
  -r, --route strings     Custom route to use for the application (a subdomain of the default domain will be used if this is not set). Can be set multiple times to use multiple routes with the same application.
</code></pre>
<h3 id="options-inherited-from-parent-commands-12"><a class="header" href="#options-inherited-from-parent-commands-12">Options inherited from parent commands</a></h3>
<pre><code>  -c, --kubeconfig string        (KUBECONFIG) path to a kubeconfig, not required in-cluster
      --no-colors                Suppress colorized output
      --settings-file string     (EPINIO_SETTINGS) set path of settings file (default &quot;~/.config/epinio/settings.yaml&quot;)
      --skip-ssl-verification    (SKIP_SSL_VERIFICATION) Skip the verification of TLS certificates
      --timeout-multiplier int   (EPINIO_TIMEOUT_MULTIPLIER) Multiply timeouts by this factor (default 1)
      --trace-level int          (TRACE_LEVEL) Only print trace messages at or above this level (0 to 255, default 0, print nothing)
      --verbosity int            (VERBOSITY) Only print progress messages at or above this level (0 or 1, default 0)
</code></pre>
<h3 id="see-also-13"><a class="header" href="#see-also-13">SEE ALSO</a></h3>
<ul>
<li><a href="references/cli/epinio_app.html">epinio app</a>	 - Epinio application features</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="epinio-settings"><a class="header" href="#epinio-settings">epinio settings</a></h2>
<p>Epinio settings management</p>
<h3 id="synopsis-8"><a class="header" href="#synopsis-8">Synopsis</a></h3>
<p>Manage the epinio cli settings</p>
<pre><code>epinio settings [flags]
</code></pre>
<h3 id="options-14"><a class="header" href="#options-14">Options</a></h3>
<pre><code>  -h, --help   help for settings
</code></pre>
<h3 id="options-inherited-from-parent-commands-13"><a class="header" href="#options-inherited-from-parent-commands-13">Options inherited from parent commands</a></h3>
<pre><code>  -c, --kubeconfig string        (KUBECONFIG) path to a kubeconfig, not required in-cluster
      --no-colors                Suppress colorized output
      --settings-file string     (EPINIO_SETTINGS) set path of settings file (default &quot;~/.config/epinio/settings.yaml&quot;)
      --skip-ssl-verification    (SKIP_SSL_VERIFICATION) Skip the verification of TLS certificates
      --timeout-multiplier int   (EPINIO_TIMEOUT_MULTIPLIER) Multiply timeouts by this factor (default 1)
      --trace-level int          (TRACE_LEVEL) Only print trace messages at or above this level (0 to 255, default 0, print nothing)
      --verbosity int            (VERBOSITY) Only print progress messages at or above this level (0 or 1, default 0)
</code></pre>
<h3 id="see-also-14"><a class="header" href="#see-also-14">SEE ALSO</a></h3>
<ul>
<li><a href="references/cli/epinio.html">epinio</a>	 - Epinio cli</li>
<li><a href="references/cli/epinio_settings_colors.html">epinio settings colors</a>	 - Manage colored output</li>
<li><a href="references/cli/epinio_settings_show.html">epinio settings show</a>	 - Show the current settings</li>
<li><a href="references/cli/epinio_settings_update.html">epinio settings update</a>	 - Update the api location &amp; stored credentials</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="epinio-settings-colors"><a class="header" href="#epinio-settings-colors">epinio settings colors</a></h2>
<p>Manage colored output</p>
<h3 id="synopsis-9"><a class="header" href="#synopsis-9">Synopsis</a></h3>
<p>Enable/Disable colored output</p>
<pre><code>epinio settings colors BOOL [flags]
</code></pre>
<h3 id="options-15"><a class="header" href="#options-15">Options</a></h3>
<pre><code>  -h, --help   help for colors
</code></pre>
<h3 id="options-inherited-from-parent-commands-14"><a class="header" href="#options-inherited-from-parent-commands-14">Options inherited from parent commands</a></h3>
<pre><code>  -c, --kubeconfig string        (KUBECONFIG) path to a kubeconfig, not required in-cluster
      --no-colors                Suppress colorized output
      --settings-file string     (EPINIO_SETTINGS) set path of settings file (default &quot;~/.config/epinio/settings.yaml&quot;)
      --skip-ssl-verification    (SKIP_SSL_VERIFICATION) Skip the verification of TLS certificates
      --timeout-multiplier int   (EPINIO_TIMEOUT_MULTIPLIER) Multiply timeouts by this factor (default 1)
      --trace-level int          (TRACE_LEVEL) Only print trace messages at or above this level (0 to 255, default 0, print nothing)
      --verbosity int            (VERBOSITY) Only print progress messages at or above this level (0 or 1, default 0)
</code></pre>
<h3 id="see-also-15"><a class="header" href="#see-also-15">SEE ALSO</a></h3>
<ul>
<li><a href="references/cli/epinio_settings.html">epinio settings</a>	 - Epinio settings management</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="epinio-settings-show"><a class="header" href="#epinio-settings-show">epinio settings show</a></h2>
<p>Show the current settings</p>
<pre><code>epinio settings show [flags]
</code></pre>
<h3 id="options-16"><a class="header" href="#options-16">Options</a></h3>
<pre><code>  -h, --help   help for show
</code></pre>
<h3 id="options-inherited-from-parent-commands-15"><a class="header" href="#options-inherited-from-parent-commands-15">Options inherited from parent commands</a></h3>
<pre><code>  -c, --kubeconfig string        (KUBECONFIG) path to a kubeconfig, not required in-cluster
      --no-colors                Suppress colorized output
      --settings-file string     (EPINIO_SETTINGS) set path of settings file (default &quot;~/.config/epinio/settings.yaml&quot;)
      --skip-ssl-verification    (SKIP_SSL_VERIFICATION) Skip the verification of TLS certificates
      --timeout-multiplier int   (EPINIO_TIMEOUT_MULTIPLIER) Multiply timeouts by this factor (default 1)
      --trace-level int          (TRACE_LEVEL) Only print trace messages at or above this level (0 to 255, default 0, print nothing)
      --verbosity int            (VERBOSITY) Only print progress messages at or above this level (0 or 1, default 0)
</code></pre>
<h3 id="see-also-16"><a class="header" href="#see-also-16">SEE ALSO</a></h3>
<ul>
<li><a href="references/cli/epinio_settings.html">epinio settings</a>	 - Epinio settings management</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="epinio-settings-update"><a class="header" href="#epinio-settings-update">epinio settings update</a></h2>
<p>Update the api location &amp; stored credentials</p>
<h3 id="synopsis-10"><a class="header" href="#synopsis-10">Synopsis</a></h3>
<p>Update the api location and stored credentials from the current cluster</p>
<pre><code>epinio settings update [flags]
</code></pre>
<h3 id="options-17"><a class="header" href="#options-17">Options</a></h3>
<pre><code>  -h, --help   help for update
</code></pre>
<h3 id="options-inherited-from-parent-commands-16"><a class="header" href="#options-inherited-from-parent-commands-16">Options inherited from parent commands</a></h3>
<pre><code>  -c, --kubeconfig string        (KUBECONFIG) path to a kubeconfig, not required in-cluster
      --no-colors                Suppress colorized output
      --settings-file string     (EPINIO_SETTINGS) set path of settings file (default &quot;~/.config/epinio/settings.yaml&quot;)
      --skip-ssl-verification    (SKIP_SSL_VERIFICATION) Skip the verification of TLS certificates
      --timeout-multiplier int   (EPINIO_TIMEOUT_MULTIPLIER) Multiply timeouts by this factor (default 1)
      --trace-level int          (TRACE_LEVEL) Only print trace messages at or above this level (0 to 255, default 0, print nothing)
      --verbosity int            (VERBOSITY) Only print progress messages at or above this level (0 or 1, default 0)
</code></pre>
<h3 id="see-also-17"><a class="header" href="#see-also-17">SEE ALSO</a></h3>
<ul>
<li><a href="references/cli/epinio_settings.html">epinio settings</a>	 - Epinio settings management</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="epinio-info"><a class="header" href="#epinio-info">epinio info</a></h2>
<p>Shows information about the Epinio environment</p>
<h3 id="synopsis-11"><a class="header" href="#synopsis-11">Synopsis</a></h3>
<p>Shows status and versions for epinio's server-side components.</p>
<pre><code>epinio info [flags]
</code></pre>
<h3 id="options-18"><a class="header" href="#options-18">Options</a></h3>
<pre><code>  -h, --help   help for info
</code></pre>
<h3 id="options-inherited-from-parent-commands-17"><a class="header" href="#options-inherited-from-parent-commands-17">Options inherited from parent commands</a></h3>
<pre><code>  -c, --kubeconfig string        (KUBECONFIG) path to a kubeconfig, not required in-cluster
      --no-colors                Suppress colorized output
      --settings-file string     (EPINIO_SETTINGS) set path of settings file (default &quot;~/.config/epinio/settings.yaml&quot;)
      --skip-ssl-verification    (SKIP_SSL_VERIFICATION) Skip the verification of TLS certificates
      --timeout-multiplier int   (EPINIO_TIMEOUT_MULTIPLIER) Multiply timeouts by this factor (default 1)
      --trace-level int          (TRACE_LEVEL) Only print trace messages at or above this level (0 to 255, default 0, print nothing)
      --verbosity int            (VERBOSITY) Only print progress messages at or above this level (0 or 1, default 0)
</code></pre>
<h3 id="see-also-18"><a class="header" href="#see-also-18">SEE ALSO</a></h3>
<ul>
<li><a href="references/cli/epinio.html">epinio</a>	 - Epinio cli</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="epinio-namespace"><a class="header" href="#epinio-namespace">epinio namespace</a></h2>
<p>Epinio-controlled namespaces</p>
<h3 id="synopsis-12"><a class="header" href="#synopsis-12">Synopsis</a></h3>
<p>Manage epinio-controlled namespaces</p>
<pre><code>epinio namespace [flags]
</code></pre>
<h3 id="options-19"><a class="header" href="#options-19">Options</a></h3>
<pre><code>  -h, --help   help for namespace
</code></pre>
<h3 id="options-inherited-from-parent-commands-18"><a class="header" href="#options-inherited-from-parent-commands-18">Options inherited from parent commands</a></h3>
<pre><code>  -c, --kubeconfig string        (KUBECONFIG) path to a kubeconfig, not required in-cluster
      --no-colors                Suppress colorized output
      --settings-file string     (EPINIO_SETTINGS) set path of settings file (default &quot;~/.config/epinio/settings.yaml&quot;)
      --skip-ssl-verification    (SKIP_SSL_VERIFICATION) Skip the verification of TLS certificates
      --timeout-multiplier int   (EPINIO_TIMEOUT_MULTIPLIER) Multiply timeouts by this factor (default 1)
      --trace-level int          (TRACE_LEVEL) Only print trace messages at or above this level (0 to 255, default 0, print nothing)
      --verbosity int            (VERBOSITY) Only print progress messages at or above this level (0 or 1, default 0)
</code></pre>
<h3 id="see-also-19"><a class="header" href="#see-also-19">SEE ALSO</a></h3>
<ul>
<li><a href="references/cli/epinio.html">epinio</a>	 - Epinio cli</li>
<li><a href="references/cli/epinio_namespace_create.html">epinio namespace create</a>	 - Creates an epinio-controlled namespace</li>
<li><a href="references/cli/epinio_namespace_delete.html">epinio namespace delete</a>	 - Deletes an epinio-controlled namespace</li>
<li><a href="references/cli/epinio_namespace_list.html">epinio namespace list</a>	 - Lists all epinio-controlled namespaces</li>
<li><a href="references/cli/epinio_namespace_show.html">epinio namespace show</a>	 - Shows the details of an epinio-controlled namespace</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="epinio-namespace-create"><a class="header" href="#epinio-namespace-create">epinio namespace create</a></h2>
<p>Creates an epinio-controlled namespace</p>
<pre><code>epinio namespace create NAME [flags]
</code></pre>
<h3 id="options-20"><a class="header" href="#options-20">Options</a></h3>
<pre><code>  -h, --help   help for create
</code></pre>
<h3 id="options-inherited-from-parent-commands-19"><a class="header" href="#options-inherited-from-parent-commands-19">Options inherited from parent commands</a></h3>
<pre><code>  -c, --kubeconfig string        (KUBECONFIG) path to a kubeconfig, not required in-cluster
      --no-colors                Suppress colorized output
      --settings-file string     (EPINIO_SETTINGS) set path of settings file (default &quot;~/.config/epinio/settings.yaml&quot;)
      --skip-ssl-verification    (SKIP_SSL_VERIFICATION) Skip the verification of TLS certificates
      --timeout-multiplier int   (EPINIO_TIMEOUT_MULTIPLIER) Multiply timeouts by this factor (default 1)
      --trace-level int          (TRACE_LEVEL) Only print trace messages at or above this level (0 to 255, default 0, print nothing)
      --verbosity int            (VERBOSITY) Only print progress messages at or above this level (0 or 1, default 0)
</code></pre>
<h3 id="see-also-20"><a class="header" href="#see-also-20">SEE ALSO</a></h3>
<ul>
<li><a href="references/cli/epinio_namespace.html">epinio namespace</a>	 - Epinio-controlled namespaces</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="epinio-namespace-delete"><a class="header" href="#epinio-namespace-delete">epinio namespace delete</a></h2>
<p>Deletes an epinio-controlled namespace</p>
<pre><code>epinio namespace delete NAME [flags]
</code></pre>
<h3 id="options-21"><a class="header" href="#options-21">Options</a></h3>
<pre><code>  -f, --force   force namespace deletion
  -h, --help    help for delete
</code></pre>
<h3 id="options-inherited-from-parent-commands-20"><a class="header" href="#options-inherited-from-parent-commands-20">Options inherited from parent commands</a></h3>
<pre><code>  -c, --kubeconfig string        (KUBECONFIG) path to a kubeconfig, not required in-cluster
      --no-colors                Suppress colorized output
      --settings-file string     (EPINIO_SETTINGS) set path of settings file (default &quot;~/.config/epinio/settings.yaml&quot;)
      --skip-ssl-verification    (SKIP_SSL_VERIFICATION) Skip the verification of TLS certificates
      --timeout-multiplier int   (EPINIO_TIMEOUT_MULTIPLIER) Multiply timeouts by this factor (default 1)
      --trace-level int          (TRACE_LEVEL) Only print trace messages at or above this level (0 to 255, default 0, print nothing)
      --verbosity int            (VERBOSITY) Only print progress messages at or above this level (0 or 1, default 0)
</code></pre>
<h3 id="see-also-21"><a class="header" href="#see-also-21">SEE ALSO</a></h3>
<ul>
<li><a href="references/cli/epinio_namespace.html">epinio namespace</a>	 - Epinio-controlled namespaces</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="epinio-namespace-list"><a class="header" href="#epinio-namespace-list">epinio namespace list</a></h2>
<p>Lists all epinio-controlled namespaces</p>
<pre><code>epinio namespace list [flags]
</code></pre>
<h3 id="options-22"><a class="header" href="#options-22">Options</a></h3>
<pre><code>  -h, --help   help for list
</code></pre>
<h3 id="options-inherited-from-parent-commands-21"><a class="header" href="#options-inherited-from-parent-commands-21">Options inherited from parent commands</a></h3>
<pre><code>  -c, --kubeconfig string        (KUBECONFIG) path to a kubeconfig, not required in-cluster
      --no-colors                Suppress colorized output
      --settings-file string     (EPINIO_SETTINGS) set path of settings file (default &quot;~/.config/epinio/settings.yaml&quot;)
      --skip-ssl-verification    (SKIP_SSL_VERIFICATION) Skip the verification of TLS certificates
      --timeout-multiplier int   (EPINIO_TIMEOUT_MULTIPLIER) Multiply timeouts by this factor (default 1)
      --trace-level int          (TRACE_LEVEL) Only print trace messages at or above this level (0 to 255, default 0, print nothing)
      --verbosity int            (VERBOSITY) Only print progress messages at or above this level (0 or 1, default 0)
</code></pre>
<h3 id="see-also-22"><a class="header" href="#see-also-22">SEE ALSO</a></h3>
<ul>
<li><a href="references/cli/epinio_namespace.html">epinio namespace</a>	 - Epinio-controlled namespaces</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="epinio-namespace-show"><a class="header" href="#epinio-namespace-show">epinio namespace show</a></h2>
<p>Shows the details of an epinio-controlled namespace</p>
<pre><code>epinio namespace show NAME [flags]
</code></pre>
<h3 id="options-23"><a class="header" href="#options-23">Options</a></h3>
<pre><code>  -h, --help   help for show
</code></pre>
<h3 id="options-inherited-from-parent-commands-22"><a class="header" href="#options-inherited-from-parent-commands-22">Options inherited from parent commands</a></h3>
<pre><code>  -c, --kubeconfig string        (KUBECONFIG) path to a kubeconfig, not required in-cluster
      --no-colors                Suppress colorized output
      --settings-file string     (EPINIO_SETTINGS) set path of settings file (default &quot;~/.config/epinio/settings.yaml&quot;)
      --skip-ssl-verification    (SKIP_SSL_VERIFICATION) Skip the verification of TLS certificates
      --timeout-multiplier int   (EPINIO_TIMEOUT_MULTIPLIER) Multiply timeouts by this factor (default 1)
      --trace-level int          (TRACE_LEVEL) Only print trace messages at or above this level (0 to 255, default 0, print nothing)
      --verbosity int            (VERBOSITY) Only print progress messages at or above this level (0 or 1, default 0)
</code></pre>
<h3 id="see-also-23"><a class="header" href="#see-also-23">SEE ALSO</a></h3>
<ul>
<li><a href="references/cli/epinio_namespace.html">epinio namespace</a>	 - Epinio-controlled namespaces</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="epinio-push-1"><a class="header" href="#epinio-push-1">epinio push</a></h2>
<p>Push an application declared in the specified manifest</p>
<pre><code>epinio push [flags] [PATH_TO_APPLICATION_MANIFEST]
</code></pre>
<h3 id="options-24"><a class="header" href="#options-24">Options</a></h3>
<pre><code>  -b, --bind strings                 configurations to bind immediately
      --builder-image string         Paketo builder image to use for staging
      --container-image-url string   Container image url for the app workload image
  -e, --env strings                  environment variables to be used
  -g, --git string                   Git repository and revision of sources separated by comma (e.g. GIT_URL,REVISION)
  -h, --help                         help for push
  -i, --instances int32              The number of instances the application should have (default 1)
  -n, --name string                  Application name. (mandatory if no manifest is provided)
  -p, --path string                  Path to application sources.
  -r, --route strings                Custom route to use for the application (a subdomain of the default domain will be used if this is not set). Can be set multiple times to use multiple routes with the same application.
</code></pre>
<h3 id="options-inherited-from-parent-commands-23"><a class="header" href="#options-inherited-from-parent-commands-23">Options inherited from parent commands</a></h3>
<pre><code>  -c, --kubeconfig string        (KUBECONFIG) path to a kubeconfig, not required in-cluster
      --no-colors                Suppress colorized output
      --settings-file string     (EPINIO_SETTINGS) set path of settings file (default &quot;~/.config/epinio/settings.yaml&quot;)
      --skip-ssl-verification    (SKIP_SSL_VERIFICATION) Skip the verification of TLS certificates
      --timeout-multiplier int   (EPINIO_TIMEOUT_MULTIPLIER) Multiply timeouts by this factor (default 1)
      --trace-level int          (TRACE_LEVEL) Only print trace messages at or above this level (0 to 255, default 0, print nothing)
      --verbosity int            (VERBOSITY) Only print progress messages at or above this level (0 or 1, default 0)
</code></pre>
<h3 id="see-also-24"><a class="header" href="#see-also-24">SEE ALSO</a></h3>
<ul>
<li><a href="references/cli/epinio.html">epinio</a>	 - Epinio cli</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="epinio-server"><a class="header" href="#epinio-server">epinio server</a></h2>
<p>Starts the Epinio server.</p>
<h3 id="synopsis-13"><a class="header" href="#synopsis-13">Synopsis</a></h3>
<p>This command starts the Epinio server. <code>epinio install</code> ensures the server is running inside your cluster. Normally you don't need to run this command manually.</p>
<pre><code>epinio server [flags]
</code></pre>
<h3 id="options-25"><a class="header" href="#options-25">Options</a></h3>
<pre><code>      --access-control-allow-origin string   (ACCESS_CONTROL_ALLOW_ORIGIN) Domains allowed to use the API
  -h, --help                                 help for server
      --ingress-class-name string            (INGRESS_CLASS_NAME) Name of the ingress class to use for apps. Leave empty to add no ingressClassName to the ingress.
      --port int                             (PORT) The port to listen on. Leave empty to auto-assign a random port
      --registry-certificate-secret string   (REGISTRY_CERTIFICATE_SECRET) Secret for the registry's TLS certificate
      --s3-certificate-secret string         (S3_CERTIFICATE_SECRET) Secret for the S3 endpoint TLS certificate. Can be left empty if S3 is served with a trusted certificate.
      --tls-issuer string                    (TLS_ISSUER) The cluster issuer to use for workload certificates
      --trace-output string                  (TRACE_OUTPUT) logs output format [text,json] (default &quot;text&quot;)
</code></pre>
<h3 id="options-inherited-from-parent-commands-24"><a class="header" href="#options-inherited-from-parent-commands-24">Options inherited from parent commands</a></h3>
<pre><code>  -c, --kubeconfig string        (KUBECONFIG) path to a kubeconfig, not required in-cluster
      --no-colors                Suppress colorized output
      --settings-file string     (EPINIO_SETTINGS) set path of settings file (default &quot;~/.config/epinio/settings.yaml&quot;)
      --skip-ssl-verification    (SKIP_SSL_VERIFICATION) Skip the verification of TLS certificates
      --timeout-multiplier int   (EPINIO_TIMEOUT_MULTIPLIER) Multiply timeouts by this factor (default 1)
      --trace-level int          (TRACE_LEVEL) Only print trace messages at or above this level (0 to 255, default 0, print nothing)
      --verbosity int            (VERBOSITY) Only print progress messages at or above this level (0 or 1, default 0)
</code></pre>
<h3 id="see-also-25"><a class="header" href="#see-also-25">SEE ALSO</a></h3>
<ul>
<li><a href="references/cli/epinio.html">epinio</a>	 - Epinio cli</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="epinio-configuration"><a class="header" href="#epinio-configuration">epinio configuration</a></h2>
<p>Epinio configuration features</p>
<h3 id="synopsis-14"><a class="header" href="#synopsis-14">Synopsis</a></h3>
<p>Handle configuration features with Epinio</p>
<pre><code>epinio configuration [flags]
</code></pre>
<h3 id="options-26"><a class="header" href="#options-26">Options</a></h3>
<pre><code>  -h, --help   help for configuration
</code></pre>
<h3 id="options-inherited-from-parent-commands-25"><a class="header" href="#options-inherited-from-parent-commands-25">Options inherited from parent commands</a></h3>
<pre><code>  -c, --kubeconfig string        (KUBECONFIG) path to a kubeconfig, not required in-cluster
      --no-colors                Suppress colorized output
      --settings-file string     (EPINIO_SETTINGS) set path of settings file (default &quot;~/.config/epinio/settings.yaml&quot;)
      --skip-ssl-verification    (SKIP_SSL_VERIFICATION) Skip the verification of TLS certificates
      --timeout-multiplier int   (EPINIO_TIMEOUT_MULTIPLIER) Multiply timeouts by this factor (default 1)
      --trace-level int          (TRACE_LEVEL) Only print trace messages at or above this level (0 to 255, default 0, print nothing)
      --verbosity int            (VERBOSITY) Only print progress messages at or above this level (0 or 1, default 0)
</code></pre>
<h3 id="see-also-26"><a class="header" href="#see-also-26">SEE ALSO</a></h3>
<ul>
<li><a href="references/cli/epinio.html">epinio</a>	 - Epinio cli</li>
<li><a href="references/cli/epinio_configuration_bind.html">epinio configuration bind</a>	 - Bind a configuration to an application</li>
<li><a href="references/cli/epinio_configuration_create.html">epinio configuration create</a>	 - Create a configuration</li>
<li><a href="references/cli/epinio_configuration_delete.html">epinio configuration delete</a>	 - Delete a configuration</li>
<li><a href="references/cli/epinio_configuration_list.html">epinio configuration list</a>	 - Lists configurations</li>
<li><a href="references/cli/epinio_configuration_show.html">epinio configuration show</a>	 - Configuration information</li>
<li><a href="references/cli/epinio_configuration_unbind.html">epinio configuration unbind</a>	 - Unbind configuration from an application</li>
<li><a href="references/cli/epinio_configuration_update.html">epinio configuration update</a>	 - Update a configuration</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="epinio-configuration-bind"><a class="header" href="#epinio-configuration-bind">epinio configuration bind</a></h2>
<p>Bind a configuration to an application</p>
<h3 id="synopsis-15"><a class="header" href="#synopsis-15">Synopsis</a></h3>
<p>Bind configuration by name, to named application.</p>
<pre><code>epinio configuration bind NAME APP [flags]
</code></pre>
<h3 id="options-27"><a class="header" href="#options-27">Options</a></h3>
<pre><code>  -h, --help   help for bind
</code></pre>
<h3 id="options-inherited-from-parent-commands-26"><a class="header" href="#options-inherited-from-parent-commands-26">Options inherited from parent commands</a></h3>
<pre><code>  -c, --kubeconfig string        (KUBECONFIG) path to a kubeconfig, not required in-cluster
      --no-colors                Suppress colorized output
      --settings-file string     (EPINIO_SETTINGS) set path of settings file (default &quot;~/.config/epinio/settings.yaml&quot;)
      --skip-ssl-verification    (SKIP_SSL_VERIFICATION) Skip the verification of TLS certificates
      --timeout-multiplier int   (EPINIO_TIMEOUT_MULTIPLIER) Multiply timeouts by this factor (default 1)
      --trace-level int          (TRACE_LEVEL) Only print trace messages at or above this level (0 to 255, default 0, print nothing)
      --verbosity int            (VERBOSITY) Only print progress messages at or above this level (0 or 1, default 0)
</code></pre>
<h3 id="see-also-27"><a class="header" href="#see-also-27">SEE ALSO</a></h3>
<ul>
<li><a href="references/cli/epinio_configuration.html">epinio configuration</a>	 - Epinio configuration features</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="epinio-configuration-create"><a class="header" href="#epinio-configuration-create">epinio configuration create</a></h2>
<p>Create a configuration</p>
<h3 id="synopsis-16"><a class="header" href="#synopsis-16">Synopsis</a></h3>
<p>Create configuration by name and key/value dictionary.</p>
<pre><code>epinio configuration create NAME (KEY VALUE)... [flags]
</code></pre>
<h3 id="options-28"><a class="header" href="#options-28">Options</a></h3>
<pre><code>  -h, --help   help for create
</code></pre>
<h3 id="options-inherited-from-parent-commands-27"><a class="header" href="#options-inherited-from-parent-commands-27">Options inherited from parent commands</a></h3>
<pre><code>  -c, --kubeconfig string        (KUBECONFIG) path to a kubeconfig, not required in-cluster
      --no-colors                Suppress colorized output
      --settings-file string     (EPINIO_SETTINGS) set path of settings file (default &quot;~/.config/epinio/settings.yaml&quot;)
      --skip-ssl-verification    (SKIP_SSL_VERIFICATION) Skip the verification of TLS certificates
      --timeout-multiplier int   (EPINIO_TIMEOUT_MULTIPLIER) Multiply timeouts by this factor (default 1)
      --trace-level int          (TRACE_LEVEL) Only print trace messages at or above this level (0 to 255, default 0, print nothing)
      --verbosity int            (VERBOSITY) Only print progress messages at or above this level (0 or 1, default 0)
</code></pre>
<h3 id="see-also-28"><a class="header" href="#see-also-28">SEE ALSO</a></h3>
<ul>
<li><a href="references/cli/epinio_configuration.html">epinio configuration</a>	 - Epinio configuration features</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="epinio-configuration-delete"><a class="header" href="#epinio-configuration-delete">epinio configuration delete</a></h2>
<p>Delete a configuration</p>
<h3 id="synopsis-17"><a class="header" href="#synopsis-17">Synopsis</a></h3>
<p>Delete configuration by name.</p>
<pre><code>epinio configuration delete NAME [flags]
</code></pre>
<h3 id="options-29"><a class="header" href="#options-29">Options</a></h3>
<pre><code>  -h, --help     help for delete
      --unbind   Unbind from applications before deleting
</code></pre>
<h3 id="options-inherited-from-parent-commands-28"><a class="header" href="#options-inherited-from-parent-commands-28">Options inherited from parent commands</a></h3>
<pre><code>  -c, --kubeconfig string        (KUBECONFIG) path to a kubeconfig, not required in-cluster
      --no-colors                Suppress colorized output
      --settings-file string     (EPINIO_SETTINGS) set path of settings file (default &quot;~/.config/epinio/settings.yaml&quot;)
      --skip-ssl-verification    (SKIP_SSL_VERIFICATION) Skip the verification of TLS certificates
      --timeout-multiplier int   (EPINIO_TIMEOUT_MULTIPLIER) Multiply timeouts by this factor (default 1)
      --trace-level int          (TRACE_LEVEL) Only print trace messages at or above this level (0 to 255, default 0, print nothing)
      --verbosity int            (VERBOSITY) Only print progress messages at or above this level (0 or 1, default 0)
</code></pre>
<h3 id="see-also-29"><a class="header" href="#see-also-29">SEE ALSO</a></h3>
<ul>
<li><a href="references/cli/epinio_configuration.html">epinio configuration</a>	 - Epinio configuration features</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="epinio-configuration-list"><a class="header" href="#epinio-configuration-list">epinio configuration list</a></h2>
<p>Lists configurations</p>
<h3 id="synopsis-18"><a class="header" href="#synopsis-18">Synopsis</a></h3>
<p>Lists configurations in the targeted namespace, or all</p>
<pre><code>epinio configuration list [--all] [flags]
</code></pre>
<h3 id="options-30"><a class="header" href="#options-30">Options</a></h3>
<pre><code>      --all    list all configurations
  -h, --help   help for list
</code></pre>
<h3 id="options-inherited-from-parent-commands-29"><a class="header" href="#options-inherited-from-parent-commands-29">Options inherited from parent commands</a></h3>
<pre><code>  -c, --kubeconfig string        (KUBECONFIG) path to a kubeconfig, not required in-cluster
      --no-colors                Suppress colorized output
      --settings-file string     (EPINIO_SETTINGS) set path of settings file (default &quot;~/.config/epinio/settings.yaml&quot;)
      --skip-ssl-verification    (SKIP_SSL_VERIFICATION) Skip the verification of TLS certificates
      --timeout-multiplier int   (EPINIO_TIMEOUT_MULTIPLIER) Multiply timeouts by this factor (default 1)
      --trace-level int          (TRACE_LEVEL) Only print trace messages at or above this level (0 to 255, default 0, print nothing)
      --verbosity int            (VERBOSITY) Only print progress messages at or above this level (0 or 1, default 0)
</code></pre>
<h3 id="see-also-30"><a class="header" href="#see-also-30">SEE ALSO</a></h3>
<ul>
<li><a href="references/cli/epinio_configuration.html">epinio configuration</a>	 - Epinio configuration features</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="epinio-configuration-show"><a class="header" href="#epinio-configuration-show">epinio configuration show</a></h2>
<p>Configuration information</p>
<h3 id="synopsis-19"><a class="header" href="#synopsis-19">Synopsis</a></h3>
<p>Show detailed information of the named configuration.</p>
<pre><code>epinio configuration show NAME [flags]
</code></pre>
<h3 id="options-31"><a class="header" href="#options-31">Options</a></h3>
<pre><code>  -h, --help   help for show
</code></pre>
<h3 id="options-inherited-from-parent-commands-30"><a class="header" href="#options-inherited-from-parent-commands-30">Options inherited from parent commands</a></h3>
<pre><code>  -c, --kubeconfig string        (KUBECONFIG) path to a kubeconfig, not required in-cluster
      --no-colors                Suppress colorized output
      --settings-file string     (EPINIO_SETTINGS) set path of settings file (default &quot;~/.config/epinio/settings.yaml&quot;)
      --skip-ssl-verification    (SKIP_SSL_VERIFICATION) Skip the verification of TLS certificates
      --timeout-multiplier int   (EPINIO_TIMEOUT_MULTIPLIER) Multiply timeouts by this factor (default 1)
      --trace-level int          (TRACE_LEVEL) Only print trace messages at or above this level (0 to 255, default 0, print nothing)
      --verbosity int            (VERBOSITY) Only print progress messages at or above this level (0 or 1, default 0)
</code></pre>
<h3 id="see-also-31"><a class="header" href="#see-also-31">SEE ALSO</a></h3>
<ul>
<li><a href="references/cli/epinio_configuration.html">epinio configuration</a>	 - Epinio configuration features</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="epinio-configuration-unbind"><a class="header" href="#epinio-configuration-unbind">epinio configuration unbind</a></h2>
<p>Unbind configuration from an application</p>
<h3 id="synopsis-20"><a class="header" href="#synopsis-20">Synopsis</a></h3>
<p>Unbind configuration by name, from named application.</p>
<pre><code>epinio configuration unbind NAME APP [flags]
</code></pre>
<h3 id="options-32"><a class="header" href="#options-32">Options</a></h3>
<pre><code>  -h, --help   help for unbind
</code></pre>
<h3 id="options-inherited-from-parent-commands-31"><a class="header" href="#options-inherited-from-parent-commands-31">Options inherited from parent commands</a></h3>
<pre><code>  -c, --kubeconfig string        (KUBECONFIG) path to a kubeconfig, not required in-cluster
      --no-colors                Suppress colorized output
      --settings-file string     (EPINIO_SETTINGS) set path of settings file (default &quot;~/.config/epinio/settings.yaml&quot;)
      --skip-ssl-verification    (SKIP_SSL_VERIFICATION) Skip the verification of TLS certificates
      --timeout-multiplier int   (EPINIO_TIMEOUT_MULTIPLIER) Multiply timeouts by this factor (default 1)
      --trace-level int          (TRACE_LEVEL) Only print trace messages at or above this level (0 to 255, default 0, print nothing)
      --verbosity int            (VERBOSITY) Only print progress messages at or above this level (0 or 1, default 0)
</code></pre>
<h3 id="see-also-32"><a class="header" href="#see-also-32">SEE ALSO</a></h3>
<ul>
<li><a href="references/cli/epinio_configuration.html">epinio configuration</a>	 - Epinio configuration features</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="epinio-target"><a class="header" href="#epinio-target">epinio target</a></h2>
<p>Targets an epinio-controlled namespace.</p>
<pre><code>epinio target [namespace] [flags]
</code></pre>
<h3 id="options-33"><a class="header" href="#options-33">Options</a></h3>
<pre><code>  -h, --help   help for target
</code></pre>
<h3 id="options-inherited-from-parent-commands-32"><a class="header" href="#options-inherited-from-parent-commands-32">Options inherited from parent commands</a></h3>
<pre><code>  -c, --kubeconfig string        (KUBECONFIG) path to a kubeconfig, not required in-cluster
      --no-colors                Suppress colorized output
      --settings-file string     (EPINIO_SETTINGS) set path of settings file (default &quot;~/.config/epinio/settings.yaml&quot;)
      --skip-ssl-verification    (SKIP_SSL_VERIFICATION) Skip the verification of TLS certificates
      --timeout-multiplier int   (EPINIO_TIMEOUT_MULTIPLIER) Multiply timeouts by this factor (default 1)
      --trace-level int          (TRACE_LEVEL) Only print trace messages at or above this level (0 to 255, default 0, print nothing)
      --verbosity int            (VERBOSITY) Only print progress messages at or above this level (0 or 1, default 0)
</code></pre>
<h3 id="see-also-33"><a class="header" href="#see-also-33">SEE ALSO</a></h3>
<ul>
<li><a href="references/cli/epinio.html">epinio</a>	 - Epinio cli</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="epinio-version"><a class="header" href="#epinio-version">epinio version</a></h2>
<p>Print the version number</p>
<pre><code>epinio version [flags]
</code></pre>
<h3 id="options-34"><a class="header" href="#options-34">Options</a></h3>
<pre><code>  -h, --help   help for version
</code></pre>
<h3 id="options-inherited-from-parent-commands-33"><a class="header" href="#options-inherited-from-parent-commands-33">Options inherited from parent commands</a></h3>
<pre><code>  -c, --kubeconfig string        (KUBECONFIG) path to a kubeconfig, not required in-cluster
      --no-colors                Suppress colorized output
      --settings-file string     (EPINIO_SETTINGS) set path of settings file (default &quot;~/.config/epinio/settings.yaml&quot;)
      --skip-ssl-verification    (SKIP_SSL_VERIFICATION) Skip the verification of TLS certificates
      --timeout-multiplier int   (EPINIO_TIMEOUT_MULTIPLIER) Multiply timeouts by this factor (default 1)
      --trace-level int          (TRACE_LEVEL) Only print trace messages at or above this level (0 to 255, default 0, print nothing)
      --verbosity int            (VERBOSITY) Only print progress messages at or above this level (0 or 1, default 0)
</code></pre>
<h3 id="see-also-34"><a class="header" href="#see-also-34">SEE ALSO</a></h3>
<ul>
<li><a href="references/cli/epinio.html">epinio</a>	 - Epinio cli</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="epinio-cli-settings"><a class="header" href="#epinio-cli-settings">Epinio, CLI settings</a></h1>
<p>The Epinio command line client uses a settings file to store
information which has to persist across invocations. This document
discusses various aspects around this.</p>
<h2 id="table-of-contents"><a class="header" href="#table-of-contents">Table Of Contents</a></h2>
<ul>
<li><a href="references/settings.html#location">Location</a></li>
<li><a href="references/settings.html#contents">Contents</a></li>
<li><a href="references/settings.html#commands">Commands</a></li>
</ul>
<h2 id="location"><a class="header" href="#location">Location</a></h2>
<p>Epinio's settings files is located by default at <code>~/.config/epinio/settings.yaml</code>.</p>
<p>The location can be changed from command to command by specifying a
different path with the global command line option <code>--settings-file</code>.</p>
<p>A more permanent change is possible by setting the environment
variable <code>EPINIO_SETTINGS</code> to the desired path.</p>
<h2 id="contents-1"><a class="header" href="#contents-1">Contents</a></h2>
<p>Epinio's settings contains</p>
<ul>
<li>The name of the namespace currently targeted.</li>
<li>Epinio API user name</li>
<li>Epinio API password</li>
<li>Epinio API urls (regular and websocket)</li>
<li>Epinio API certificate</li>
</ul>
<p>The namespace can be changed by running <code>epinio target</code> with the
name of the desired namespace as its single argument.</p>
<p>User name and password are used by the client to authenticate itself
when talking to Epinio's API server. The <code>epinio settings update</code> command
saves the initial information to the settings.</p>
<p>The installation uses a the wildcard domain <code>omg.howdoi.website</code> and the
<code>epinio-ca</code> issuer by default.</p>
<p><code>epinio settings update</code> saves the associated CA
certificate to the settings so that future invocations of the
client are able to verify the actual certificate when talking to
Epinio's API server.</p>
<h2 id="commands"><a class="header" href="#commands">Commands</a></h2>
<p>The Epinio command line client currently provides 3 commands
explicitly targeting the settings. These are:</p>
<ol>
<li>
<p><code>epinio target</code></p>
<p>As noted in the previous section, this command changes
the namespace to use with all other commands.</p>
</li>
<li>
<p><code>epinio settings show</code></p>
<p>This command shows the details of the currently stored
settings settings. An exception is made for the certificate
field, due to its expected size. The command's output only notes
if certificate data is present or not.</p>
</li>
<li>
<p><code>epinio settings update</code></p>
<p>Epinio allows users to switch between multiple installations (on
different clusters) by simply re-targeting the cluster to talk to
via changes to the  environment variable <code>KUBECONFIG</code>.</p>
<p>When such is done the credentials, cert data, and urls stored in
the settings will not match the newly targeted cluster,
except by coincidence.</p>
<p>To be actually able to talk to the newly targeted installation it
is necessary to run this command to refresh the stored
credentials, cert data, and urls with information retrieved from
the new cluster.</p>
</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="epinio-supported-applications"><a class="header" href="#epinio-supported-applications">Epinio supported applications</a></h1>
<p>This section describes what kind of application you can expect to work with Epinio.
To understand what enables an application to work with Epinio, you need to know how staging works.</p>
<h2 id="how-it-works"><a class="header" href="#how-it-works">How it works</a></h2>
<p>Epinio relies on <a href="https://buildpacks.io/">Cloud Native Buildpacks</a> to create a container image for your
application. It does that by creating Kubernetes Jobs.</p>
<p>Staging starts with you (the developer) running <code>epinio push --name myapp</code> from the root of your application source code.
You can see a simplified diagram of the process in the image below:</p>
<p><img src="references/epinio-push-simple.svg?raw=true" alt="epinio-push-simplified" title="Epinio push" /></p>
<p>After pushing your code, Epinio creates staging job which uses the <a href="https://paketo.io/">paketo buildpacks</a> to build a runtime image for your application.
If you are not familiar with how buildpacks work, you should have a look at the official docs: https://buildpacks.io/docs/</p>
<h2 id="supported-buildpacks"><a class="header" href="#supported-buildpacks">Supported buildpacks</a></h2>
<p>Epinio uses the <a href="https://github.com/paketo-buildpacks/full-stack-release">full stack paketo builder image</a> which means you can make use of any of the buildpacks
documented here: https://paketo.io/docs/buildpacks/language-family-buildpacks/</p>
<p>The various buildpacks provide various configuration options. You can read on how to generally configure a buildpack here: https://paketo.io/docs/buildpacks/configuration/
Each buildpack may support more configuration options, so you may have to read the documentation of the buildpacks you are interested in.</p>
<p>E.g. <a href="https://github.com/paketo-buildpacks/php-web#configuring-custom-ini-files">Instructions on how to add custom php.ini files for php-web buildpack</a></p>
<h2 id="detailed-push-process"><a class="header" href="#detailed-push-process">Detailed push process</a></h2>
<p>The above image is a simplified explanation of the <code>epinio push</code> process. If you don't want to know all the details on how that works, the above diagram should
be all the information you need. If you are curious about the details, then read here: <a href="references/explanations/detailed-push-process.html">Detailed push docs</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="application-manifests"><a class="header" href="#application-manifests">Application Manifests</a></h1>
<h2 id="overview"><a class="header" href="#overview">Overview</a></h2>
<p>An application manifest is a YAML file containing the entire configuration of an
application as required by <code>epinio (apps) push</code> for succesful operation.</p>
<p>Manifests are irrelevant for all other epinio commands.</p>
<p>This is especially true for the commands <code>epinio apps create</code> and <code>epinio apps update</code>.
Neither of these uses manifests. They operate directly on a named application, and can
only set and modify a subset of the data provided by a manifest to <code>epinio (apps) push</code>.</p>
<h2 id="cheat-sheet"><a class="header" href="#cheat-sheet">Cheat Sheet</a></h2>
<p>The detailed specifications coming after this section provide the following essential ways
of pushing an application:</p>
<ol>
<li>
<p>With an explicit manifest file as argument.</p>
</li>
<li>
<p>With a standard manifest file (<code>epinio.yml</code>) found in the current directory.</p>
</li>
<li>
<p>With no manifest file at all. This simply uses all the defaults, except for the name,
which has no such.</p>
</li>
</ol>
<p>Further defaults:</p>
<ul>
<li>No environment variables.</li>
<li>No bound configurations.</li>
<li>One replica/instance.</li>
<li>Standard paketo builder image (<code>paketobuildpacks/builder:full</code>).</li>
<li>Current directory for the application sources.</li>
</ul>
<h2 id="syntax-epinio-apps-push"><a class="header" href="#syntax-epinio-apps-push">Syntax <code>epinio (apps) push</code></a></h2>
<p>Outside of options <code>epinio (apps) push</code> supports only a single optional argument.
This argument is the path to the manifest file to use.</p>
<p>When no such path is specified the command looks for an <code>epinio.yml</code> file in the current
directory as the manifest to use.</p>
<p>When no manifest file is found defaults are applied.</p>
<p>Syntax:</p>
<ul>
<li><code>push [flags] [MANIFEST-PATH]</code></li>
</ul>
<p>The command does support a number of options with which the user can <strong>override</strong> the
information read from the manifest. In other words, the data in the manifest is the
primary source, and the options just tweak things.</p>
<p>When an option is specified its value replaces the data from the manifest.
Options do not extend any manifest values.</p>
<h3 id="options-35"><a class="header" href="#options-35">Options</a></h3>
<ul>
<li>
<p><code>--instances</code>, <code>-i</code> <code>N</code></p>
<p>The application's number of desired instances/replicas.</p>
</li>
<li>
<p><code>--env</code>, <code>-e</code> <code>NAME=VALUE</code></p>
<p>Adds the environment variable <code>NAME</code> to the application's environment, with the
specified <code>VALUE</code>. Multiple uses of the option accumulate. In case of multiple
assignments to the same <code>NAME</code> the last wins.</p>
</li>
<li>
<p><code>--bind</code>, <code>-b</code> <code>CONFIGURATION</code></p>
<p>Binds the named configuration to the application. Multiple uses of the option accumulate.</p>
</li>
</ul>
<p><strong>Side note</strong>: The three preceding options are supported by the <code>apps create</code> and <code>apps update</code> commands as well. The following options are not.</p>
<ul>
<li>
<p><code>--name</code>, <code>-n</code> <code>NAME</code></p>
<p>The application's name. When used more than once the last use wins.</p>
</li>
</ul>
<p>The next three options specify the location of the application's sources. Only one form is
allowed. Mixing forms causes push to report an error.</p>
<ul>
<li>
<p><code>--path</code>, <code>-p</code> <code>SRC-PATH</code></p>
<p>A path in the local filesystem, the directory holding the application's sources.
When used more than once the last use wins.</p>
<p>A relative path is resolved relative to the current working directory.</p>
</li>
<li>
<p><code>--container-image</code>, <code>-c</code> <code>URL</code></p>
<p>The url of the container image containing the ready-to-run application. In other
words, this is a pre-staged application, not sources.
When used more than once the last use wins.</p>
</li>
<li>
<p><code>--git</code>, <code>-g</code> <code>REPO?,REV?</code></p>
<p>The url of the git repository holding the appliction's sources, and the revision to
use. If the revision is not specified the head of the main branch is assumed.
When used more than once the last use wins.</p>
<p><strong>Note</strong>: The comma (<code>,</code>) is used as separator between repo url and revision because
the nicer separators (<code>:</code>, <code>@</code>) are both used in urls, making extraction difficult due
to the ambiguities coming out of that.</p>
</li>
</ul>
<p>The last option controls staging:</p>
<ul>
<li>
<p><code>--builder-image</code> <code>IMAGE</code></p>
<p>The name of the image to use for staging the application's sources.</p>
</li>
</ul>
<h2 id="manifest-format"><a class="header" href="#manifest-format">Manifest format</a></h2>
<p>An application manifest is a YAML file containing a single mapping as its main structure.</p>
<p>The keys of this mapping specify the various elements of an application's configuration.</p>
<ul>
<li>
<p><code>name</code>. See <code>--name</code>. Required.</p>
</li>
<li>
<p><code>configuration</code>. Optional. The value of this key is a mapping whose keys specify the
basic configuration of the application, namely:</p>
<ul>
<li>
<p><code>instances</code>. See <code>--instances</code>. Optional. Defaults to <code>1</code>.</p>
</li>
<li>
<p><code>environment</code>. See <code>--env</code>. Optional. Defaults to empty. The value of this key is
a mapping whose keys are the names of the desired environment variables, and their
desired values.</p>
</li>
<li>
<p><code>configurations</code>. See <code>--bind</code>. Optional. Defaults to empty. The value of this keys is a
sequence of names, for the configurations to bind.</p>
</li>
</ul>
</li>
<li>
<p><code>staging</code>. Optional. The value of this key is a mapping whose keys specify information
controlling the application's staging.</p>
<ul>
<li><code>builder</code>. See <code>--builder-image</code>. Optional.</li>
</ul>
</li>
<li>
<p><code>origin</code>. Optional. The value of this key is a mapping whose keys specify the origin
of the application (sources), namely:</p>
<ul>
<li>
<p><code>path</code>. See <code>--path</code>. Optional. See below.</p>
<p>A relative path is resolved relative to the directory containing the manifest
file.</p>
</li>
<li>
<p><code>container</code>. See <code>--container-image</code>. Optional. See below.</p>
</li>
<li>
<p><code>git</code>. See <code>--git</code>. Optional. See below. The value of this key is a mapping with
keys <code>url</code> and <code>revision</code>, for the two part of the git reference. If revision is
not present it defaults to the head of the repositories' main branch.</p>
</li>
</ul>
<p>As with the options the keys <code>path</code>, <code>container</code>, and <code>git</code> exclude each other.  Only
one may be specified in the manifest.</p>
<p>If none is specified the system defaults to <code>path</code> and the sources are expected to
reside in the directory containing the manifest file.</p>
<p>Note that specifying any of the origin options replaces any of the origin keys.
I.e. a <code>--path</code> options replaces/displace/overides a <code>container</code> key. Etc.</p>
</li>
</ul>
<p>Last, in case it was missed reading the descriptions above, <code>name</code> is the only required
key in a manifest file. The same as the <code>NAME</code> argument of pre-manifest <code>push</code> was the
only required argument.</p>
<h3 id="example-1"><a class="header" href="#example-1">Example</a></h3>
<pre><code>name: zanzibar
configuration:
  instances: 333
  configurations:
  - snafu
  environment:
    DOGMA: &quot;no&quot;
staging:
  builder: &quot;paketobuildpacks/builder:tiny&quot;
origin:
  path: /somewhere/over/there

</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="configurations"><a class="header" href="#configurations">Configurations</a></h1>
<h2 id="overview-1"><a class="header" href="#overview-1">Overview</a></h2>
<p>Configurations are, in general, external components providing some kind of configuration (sic!) to
applications, without being a direct part of the applications.</p>
<p>Examples of configurations are</p>
<ul>
<li>databases,</li>
<li>message brokers,</li>
<li>interfaces to other kinds of systems,</li>
<li>etc.</li>
</ul>
<p>In Epinio configurations are identified by a name and the namespace they are defined in. Beyond
that they consist of a collection of arbitrarily named attributes and values, which when
consumed by an application, tell that aplication how to connect to and interact with that
configuration.</p>
<p>Note that while there are guidelines what kind of attributes are required for the above, and
how they should be named, and what their content should be, these guidelines are outside
of the scope for Epinio. Epinio is not aware of such, and cannot validate configuration
definition against such. It will simply pass any attributes to using applications as they
are, and assumes that they are what the application requires for proper function.</p>
<p>For an application to use a configuration, the configuration has to be <strong>bound</strong> to the application. In
other words, the application has to be made aware of the configuration.</p>
<p>Note how this constrains the lifetimes of configurations with respect to applications. A configuration
is expected to exist before a using application exists, and to only be deleted after all
using applications are gone.</p>
<p>Deleting a configuration used by an application is considered an error and generally
prevented. While it can be forced it should then be expected to break the application.</p>
<p>As a limitation, applications can only bind configurations defined in the same namespace as the
application itself.</p>
<h2 id="management"><a class="header" href="#management">Management</a></h2>
<p>Configurations in Epinio are managed by the <a href="references/cli/epinio_configuration.html">epinio configuration</a>
command hierarchy.</p>
<p>The connections between configurations and applications specifically are managed by the
<a href="references/cli/epinio_configuration_bind.html">bind</a> and <a href="references/cli/epinio_configuration_unbind.html">unbind</a> commands.</p>
<h2 id="application-interface"><a class="header" href="#application-interface">Application Interface</a></h2>
<p>From the point of view of an epinio-staged application, a bound configuration appears in the
application's file system as a directory under the path <code>/configurations</code>. This directory will
have the same name as the configuration and will contain a set of files holding the attributes of the
configuration. Each attribute is mapped to a file of the same name as the attribute, and this
file contains the value of the attribute.</p>
<h3 id="example-2"><a class="header" href="#example-2">Example</a></h3>
<p>To be a bit more concrete, let us assume that we have a configuration created by the command
<code>epinio configuration create orders host over-there port 99 user zetta password 92084dkls</code>.</p>
<p>When an application binds that configuration several additional paths will appear in the
filesystem of that application, namely:</p>
<table><thead><tr><th>Path</th><th>Kind</th><th>Content</th></tr></thead><tbody>
<tr><td>/configurations/orders</td><td>Directory</td><td></td></tr>
<tr><td>/configurations/orders/host</td><td>File</td><td><code>over-there</code></td></tr>
<tr><td>/configurations/orders/port</td><td>File</td><td><code>99</code></td></tr>
<tr><td>/configurations/orders/user</td><td>File</td><td><code>zetta</code></td></tr>
<tr><td>/configurations/orders/password</td><td>File</td><td><code>92084dkls</code></td></tr>
</tbody></table>
<p>The application can now read these files and use their content to connect to the configuration,
authenticate, and then use it.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="api-reference"><a class="header" href="#api-reference">API reference</a></h1>
<p>Most of the Epinio commands communicate with the Epinio server side component over an API. The API is secured with Basic Auth authentication. You can make requests against that API with the credentials from your Epinio config.
E.g.</p>
<ul>
<li>Get your credentials with: <code>epinio config show</code></li>
<li>Use curl to make a request:</li>
</ul>
<pre><code>$ curl -u your-username-here:password-here https://epinio.your-system-domain/api/v1/info
</code></pre>
<p>The responses are all JSON objects, except for some cases where you get an error before the request reaches the Epinio server (e.g. because of bad cluster configuration).</p>
<p>The endpoints are documented in the <a href="https://www.openapis.org/">OpenAPI Spec</a> format. You can find the definition of the API here: https://github.com/epinio/epinio/blob/v0.1.6/docs/references/api/swagger.json</p>
<p><strong>Make sure</strong> you change to the Epinio release you have deployed.</p>
<p>There are various tools you can use to easily browse the API (e.g. https://editor.swagger.io/). If you have a Golang environment set up locally, you may find it easier to run <code>make swagger swagger-serve</code> from the root of the Epinio repository.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>
    </body>
</html>
